{"ast":null,"code":"var _jsxFileName = \"/local/home/mkaiser/Documents/TREC_CAsT/demo/treccast-app/src/App.js\";\nimport React, { Component } from 'react';\nimport Form from './Form';\nimport Options from './Options';\nimport './index.css';\nimport Loader from 'react-loader-spinner';\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\nimport ReactHtmlParser from 'react-html-parser';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOptionChange = (optionId, value) => {\n      this.setState({\n        [optionId]: value\n      });\n    };\n\n    this.validateState = () => {\n      console.log(\"state in validateState: \" + this.state.edgeThreshold);\n      var errMessage = \"\";\n\n      if (this.state.retNbr < 1 || this.state.retNbr > 20) {\n        errMessage = errMessage + \" The number of returned results must lie between 1 and 20!\";\n      }\n\n      if (this.state.indriRetNbr < 10 || this.state.indriRetNbr > 1000) {\n        errMessage = errMessage + \" The number of returned Indri passages must lie between 10 and 1000!\";\n      }\n\n      if (this.state.nodeThreshold < 0.5 || this.state.nodeThreshold > 1.0) {\n        errMessage = errMessage + \" The node threshold must lie between 0.5 and 1.0!\";\n      }\n\n      if (this.state.edgeThreshold < 0 || this.state.edgeThreshold > 0.1) {\n        errMessage = errMessage + \" The edge threshold must lie between 0.0 and 0.1!\";\n      }\n\n      var score = parseFloat(this.state.h1) + parseFloat(this.state.h2) + parseFloat(this.state.h3);\n      console.log(\"score: \" + score);\n      var scoreVariance = 0.0001;\n      var diff = Math.abs(1.0 - score);\n      console.log(\"diff: \" + diff);\n\n      if (Math.abs(1.0 - score) > scoreVariance) {\n        errMessage = errMessage + \" The hyperparameters must sum up to 1.0!\";\n      }\n\n      this.setState({\n        err: errMessage\n      });\n      return errMessage;\n    };\n\n    this.handleSubmit = question => {\n      this.setState({\n        err: \"\",\n        api_err: \"\"\n      });\n      var errMessage = this.validateState();\n\n      if (errMessage !== \"\") {\n        console.log(\"Abort because of wrong parameters\");\n        return;\n      } //this.setState({ questions: [...this.state.questions,question] }, () => {\n\n\n      if (question !== null && question !== \"\") {\n        trackPromise(fetch(\"http://139.19.6.31:5000/getanswer\", {\n          //fetch(\"http://139.19.51.11:5000/getanswer\", {\n          // fetch(\"http://localhost:5000/getanswer\", {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            credentials: 'same-origin'\n          },\n          method: 'post',\n          body: JSON.stringify({\n            \"questions\": [...this.state.questions, question],\n            \"retNbr\": this.state.retNbr,\n            \"indriRetNbr\": this.state.indriRetNbr,\n            \"nodeThreshold\": this.state.nodeThreshold,\n            \"edgeThreshold\": this.state.edgeThreshold,\n            \"convquery\": this.state.convquery,\n            \"h1\": this.state.h1,\n            \"h2\": this.state.h2,\n            \"h3\": this.state.h3\n          })\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            console.log(\"ERROR when calling REST Api, response was:\" + response); //throw new Error('ERROR when calling REST Api');\n            //   this.setState({ answers:  [...this.state.answers,\"ERROR while calling REST API\"] }, () => {\n            //  this.setState({turn: this.state.turn+1});\n            //  })\n          }\n        }).then(data => this.setState({\n          questions: [...this.state.questions, question],\n          answers: [...this.state.answers, data[\"paragraphs\"]],\n          answerids: [...this.state.answerids, data[\"ids\"]],\n          nodes: [...this.state.nodes, data[\"nodes\"]],\n          edges: [...this.state.edges, data[\"edges\"]],\n          turn: this.state.turn + 1 //, () => { this.setState({turn: this.state.turn+1});\n\n        })).catch(error => this.setState({\n          api_err: error\n        }, () => {\n          console.log(\"ERROR when calling REST Api: \" + error); //this.setState({ answers:  [...this.state.answers,[\"ERROR while calling REST API\"]] }, () => {\n          //this.setState({turn: this.state.turn+1});\n          //})\n        })));\n      } // });\n\n    };\n\n    this.handleClearConv = () => {\n      //this.setState(this.initialState)\n      this.setState({\n        questions: [],\n        answers: [],\n        answerids: [],\n        nodes: [],\n        edges: [],\n        turn: -1\n      });\n    };\n\n    this.showSampleAnswers = () => {\n      var quest = [\"What flowering plants work for cold climates?\", \"How much cold can pansies tolerate?\", \"Does it have different varieties?\", \"Can it survive frost?\", \"How do I protect my plants from cold weather?\"];\n      var aw1 = [\"mosses and shrubs. Plant life on the tundra consists of short clumps of liches, mosses, shrubs and surprisingly, several hundred species of flowering plants. These plants are all adapted to cold, windy climates, and have shallow root systems to take advantage of the thin layer of thawed soil above the permafrost.osses and shrubs. Plant life on the tundra consists of short clumps of liches, mosses, shrubs and surprisingly, several hundred species of flowering plants. These plants are all adapted to cold, windy climates, and have shallow root systems to take advantage of the thin layer of thawed soil above the permafrost.\", \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\", \"The racemes of lipstick-red buds open to orange flowers; there's also red in the stems of the leaves. This tree's ability to flower only months after germination, quickness of growth, and poisonous seeds make it a weed in climates where it's hardy. The common name, rattlebox, comes from the dried seed pods.They hang on the branches in the winter, and the seeds they contain rattle in the wind. There's no danger when growing Sesbania tripetii in climates cold enough that the plants or (scarce) seeds can't survive the winter. new raceme emerges from the base of each new leaf. its eagerness to begin flowering: S. tripetii can begin flowering two or three months from germination, so the tree can also be grown as a colorful annual. Flowering season. The plant remains in bloom as long as it is in active growth, and that can be months.\"];\n      var aw2 = [\" Also known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.lso known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.\", \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\", \"Some of the types of flowers that are considered hardy annuals include the pansy, cornflower, and larkspur. Annuals that can tolerate damp, cold temperatures, but not frost are called half-hardy annuals.Some examples of half-hardy annual flowers include forget-me-nots, bells of Ireland, and baby's breath.hese terms are used as a means of identifying and separating certain types of flowers. What makes them different from one another is the life cycle of the plants and how long they produce blooms. When planting flowers or creating a garden, it is necessary to understand which plants are perennials and which are annuals.\"];\n      var aw3 = [\"Also known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.lso known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions. \", \"Common annuals are marigold, vinca, begonia, coleus, zinnia, impatiens, petunia, nasturtium and pentas. But climate plays a big role in determing an annual plant's lifecycle â some varieties of daisies, geranium, lantana, mandevilla, pansies and verbena are perennials in warm climates.nnuals. As their name implies, annuals are plants that complete their life cycle in only one season. Typically used to add seasonal color to flowerbeds and planters, these prolific bloomers die back after flowering. Removing spent blooms will stimulate annuals to produce more showy flowers. \", \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\"];\n      var aw4 = [\"The plant's growth is highly variable due to a high complexity of different subspecies, varieties and landraces (domesticated plants or animals adapted to the environment in which they originated). However, in general it is undemanding and altitude-hardy. It is grown from coastal regions to over in the Andes near the equator, with most of the cultivars being grown between and . Depending on the variety, optimal growing conditions are in cool climates with temperatures that vary between during the night to near during the day. Some cultivars can withstand lower temperatures without damage. Light frosts normally do not affect the plants at any stage of development, except during flowering. Mid-summer frosts during flowering, often occurring in the Andes, lead to sterilization of the pollen. Rainfall conditions are highly variable between the different cultivars, ranging from during growing season. Growth is optimal with well-distributed rainfall during early growth and development and dry conditions during seed maturation and harvesting.\", \"Penta (Pentas lanceolata) is an evergreen bush that, in warm climates, will light up the landscape all year with colorful star-shaped clusters. Hummingbirds and butterflies will often visit the penta blooms before they visit other flowering plants. Although penta can survive an occasional light frost, it won't tolerate a hard freeze. If you live in a cold climate, either grow penta as an annual or plant it in a container and bring it indoors for the winter.\", \"Overview. Perfect for gardens in temperate climates, hydrangeas need a winter dormancy that is punctuated with frost and subfreezing temperatures. However, if a hydrangea shrub is leafy or in bloom, frost will scald it and turn the plant tissue brown, and the petals and leaves will drop off.Untimely spring frosts can kill flower and leaf buds on shrubs, and reduce or prevent flowering later in spring and summer.rotect shrubs from a late frost by covering them with a cloth sheet or blanket when unseasonal cold is forecast. Plants nipped by frost should be cleaned and pruned only when there is no further threat of frost in spring. Frost causes hydrangeas' petals and leaves to turn brown in early to mid-autumn.\"];\n      var aw5 = [\"To protect your plants adequately, you need know what plants you have, and to understand: our desert cold weather; how plants respond to cold; some methods to prevent severe frost damage; and what to do if a plant is frost damaged.Understanding our Desert Cold Weather Humidity slows temperature changes.o protect your plants adequately, you need know what plants you have, and to understand: our desert cold weather; how plants respond to cold; some methods to prevent severe frost damage; and what to do if a plant is frost damaged.\", \"Crocus sativus thrives in the Mediterranean maquis, an ecotype superficially resembling the North American chaparral, and similar climates where hot and dry summer breezes sweep semi-arid lands. It can nonetheless survive cold winters, tolerating frosts as low as and short periods of snow cover. Irrigation is required if grown outside of moist environments such as Kashmir, where annual rainfall averages ; saffron-growing regions in Greece ( annually) and Spain () are far drier than the main cultivating Iranian regions. What makes this possible is the timing of the local wet seasons; generous spring rains and drier summers are optimal. Rain immediately preceding flowering boosts saffron yields; rainy or cold weather during flowering promotes disease and reduces yields. Persistently damp and hot conditions harm the crops, and rabbits, rats, and birds cause damage by digging up corms. Nematodes, leaf rusts, and corm rot pose other threats. Yet Bacillus subtilis inoculation may provide some benefit to growers by speeding corm growth and increasing stigma biomass yield. \", \"Penta (Pentas lanceolata) is an evergreen bush that, in warm climates, will light up the landscape all year with colorful star-shaped clusters. Hummingbirds and butterflies will often visit the penta blooms before they visit other flowering plants. Although penta can survive an occasional light frost, it won't tolerate a hard freeze. If you live in a cold climate, either grow penta as an annual or plant it in a container and bring it indoors for the winter.\"];\n      var ids1 = [\"MARCO_8519619\", \"MARCO_3510175\", \"MARCO_1471956\"];\n      var ids2 = [\"MARCO_5611079\", \"MARCO_3510175\", \"MARCO_4909757\"];\n      var ids3 = [\"MARCO_5611079\", \"MARCO_8248044\", \"MARCO_3510175\"];\n      var ids4 = [\"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\", \"MARCO_5160988\", \"MARCO_3020008\"];\n      var ids5 = [\"MARCO_4989678\", \"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\", \"MARCO_5160988\"];\n      var nodes1 = {\n        \"MARCO_8519619\": [\"cold\", \"plants\", \"climates\", \"flowering\", \"plant\"],\n        \"MARCO_3510175\": [\"cold\", \"plants\", \"flowering\", \"plant\"],\n        \"MARCO_1471956\": [\"cold\", \"plants\", \"climates\", \"flowering\", \"plant\"]\n      };\n      var nodes2 = {\n        \"MARCO_5611079\": [\"cold\", \"plants\", \"pansies\"],\n        \"MARCO_3510175\": [\"plants\", \"cold\", \"tolerate\", \"flowering\", \"plant\"],\n        \"MARCO_4909757\": [\"cold\", \"plants\", \"tolerate\"]\n      };\n      var nodes3 = {\n        \"MARCO_5611079\": [\"cold\", \"plants\", \"pansies\"],\n        \"MARCO_8248044\": [\"plants\", \"varieties\", \"flowering\", \"plant\", \"pansies\"],\n        \"MARCO_3510175\": [\"cold\", \"plants\", \"different\", \"flowering\", \"plant\"]\n      };\n      var nodes4 = {\n        \"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\": [\"plants\", \"climates\", \"flowering\", \"plant\", \"frosts\"],\n        \"MARCO_5160988\": [\"cold\", \"plants\", \"survive\", \"frost\", \"climates\"],\n        \"MARCO_3020008\": [\"cold\", \"plants\", \"frost\", \"climates\", \"flowering\"]\n      };\n      var nodes5 = {\n        \"MARCO_4989678\": [\"protect\", \"cold\", \"plants\", \"weather\", \"plant\"],\n        \"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\": [\"cold\", \"weather\", \"climates\", \"flowering\", \"survive\"],\n        \"MARCO_5160988\": [\"cold\", \"plants\", \"climates\", \"flowering\", \"plant\"]\n      };\n      var edges1 = {\n        \"MARCO_8519619\": [\" (flowering,plants)\", \"(climates,cold)\"],\n        \"MARCO_3510175\": [\"(flowering,plants)\"],\n        \"MARCO_1471956\": [\" (flowering,plant)\", \"(climates,cold)\", \"(bloom,plant)\", \"(climates,plants)\"]\n      };\n      var edges2 = {\n        \"MARCO_5611079\": [\"(cold,pansies)\"],\n        \"MARCO_3510175\": [\"(flowering,plants)\", \"(plants,tolerate)\", \"(cold,tolerate)\", \"(flowering,tolerate)\"],\n        \"MARCO_4909757\": [\"(cold,tolerate)\"]\n      };\n      var edges3 = {\n        \"MARCO_5611079\": [\"(cold,pansies)\"],\n        \"MARCO_8248044\": [\"(plant,varieties)\"],\n        \"MARCO_3510175\": [\"(flowering,plants)\", \"(plants,tolerate)\", \"(cold,tolerate)\", \"(flowering,tolerate)\"]\n      };\n      var edges4 = {\n        \"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\": [\" (flowering,plants)\", \"(frosts,plants)\", \"(flowering,frosts)\", \"(different,varieties)\", \"(plants,varieties)\"],\n        \"MARCO_5160988\": [\"(flowering,plants)\", \"(frost,tolerate)\", \"(plants,survive)\", \"(frost,survive)\", \"(flowering,survive)\"],\n        \"MARCO_3020008\": [\"(bloom,frost)\", \"(frost,plant)\", \"(frost,plants)\"]\n      };\n      var edges5 = {\n        \"MARCO_4989678\": [\"(cold,weather)\", \"(frost,plant)\"],\n        \"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\": [\"(cold,weather)\", \"(cold,frosts)\", \"(cold,survive)\"],\n        \"MARCO_5160988\": [\"(flowering,plants)\", \"(frost,tolerate)\", \"(plants,survive)\", \"(frost,survive)\", \"(flowering,survive)\"]\n      };\n      this.setState({\n        questions: quest,\n        answers: [aw1, aw2, aw3, aw4, aw5],\n        answerids: [ids1, ids2, ids3, ids4, ids5],\n        nodes: [nodes1, nodes2, nodes3, nodes4, nodes5],\n        edges: [edges1, edges2, edges3, edges4, edges5],\n        turn: 4\n      });\n    };\n\n    this.initialState = {\n      questions: [],\n      answers: [],\n      answerids: [],\n      nodes: [],\n      edges: [],\n      turn: -1,\n      retNbr: 3,\n      indriRetNbr: 100,\n      nodeThreshold: 0.75,\n      edgeThreshold: 0.0,\n      convquery: \"conv_w2\",\n      h1: 0.6,\n      h2: 0.3,\n      h3: 0.1,\n      err: \"\",\n      api_err: \"\"\n    };\n    this.state = this.initialState;\n  } // state = {\n  //   questions:  [],\n  //   answers: [],\n  //turn: -1\n  //};\n  // prev_questions = []\n  //prev_answers = []\n  // prev_turn = -1\n\n\n  render() {\n    //#191970\n    var errorStyle = {\n      color: \"#FF0000\",\n      \"margiBottom\": \"70px\"\n    };\n    var widthstyle = {\n      width: \"80%\"\n    };\n    var margin = {\n      \"marginBottom\": \"30px\"\n    };\n    var inlinestyle = {\n      display: \"inline\"\n    };\n    return React.createElement(\"div\", {\n      className: \"full-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      style: margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"CROWN: Conversational Passage Ranking By Reasoning Over Word Networks\"), React.createElement(\"div\", {\n      className: \"flex-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      align: \"justify\",\n      style: widthstyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, this.state.err && React.createElement(\"div\", {\n      className: \"error-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      align: \"center\",\n      style: errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, this.state.err)), this.state.api_err && React.createElement(\"div\", {\n      className: \"error-message\",\n      style: errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \" \", \"500 Internal Server Error\"), React.createElement(Form, {\n      handleSubmit: this.handleSubmit,\n      onSubmit: this.handleSubmit,\n      handleClearConv: this.handleClearConv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), \"  \", React.createElement(LoadingIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), \" \", React.createElement(TableBody, {\n      questions: this.state.questions,\n      answers: this.state.answers,\n      answerids: this.state.answerids,\n      nodes: this.state.nodes,\n      edges: this.state.edges,\n      turn: this.state.turn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"flex-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      style: widthstyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(SampleQuestion, {\n      showSampleAnswers: this.showSampleAnswers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), \" \", React.createElement(Options, {\n      onChange: this.handleOptionChange,\n      value: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst SampleQuestion = props => {\n  var marginbutton = {\n    \"marginLeft\": \"80%\"\n  };\n  const showSampleAnswers = props.showSampleAnswers;\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'sampleconv_head',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Sample Conversation on Flowering Plants for Cold Climates\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    className: \"no-bottom-border\",\n    key: 'turn1',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, \"Turn 1: \"), \" What flowering plants work for cold climates? \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, \"Turn 2: \"), \" How much cold can pansies tolerate? \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, \"Turn 3: \"), \" Does it have different varieties?\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, \"Turn 4: \"), \" Can it survive frost?\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, \"Turn 5: \"), \" How do I protect my plants from cold weather?\")), React.createElement(\"tr\", {\n    key: 'buttonrow',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    onClick: showSampleAnswers,\n    style: marginbutton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, \"Answer\")))));\n};\n\nconst Description = () => {\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'description',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, \"Description\"))), React.createElement(\"tbody\", {\n    align: \"justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'desc',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    align: \"justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, \"CROWN is an unsupervised approach for conversational passage ranking. Answers are retrieved from MS MARCO and TREC CAR datasets. We formulated the objective of maximizing the passage score for a query as a combination of similarity and coherence. Passages are preferred that contain words semantically similar to the words used in the question. Coherence is expressed using term proximity. We built a word-proximity network from the corpus, where words are nodes and there is an edge between two nodes if they co-occur in the same passage in a statistically significant way, within a context window. We use NPMI (normalized pointwise mutual information) as a measure of this word association significance.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294\n    },\n    __self: this\n  }, \"Our code and data are available here.\"), React.createElement(\"p\", {\n    align: \"justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, \"To cite CROWN:\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, \"Magdalena Kaiser, Rishiraj Saha Roy and Gerhard Weikum, 2019, \\\"CROWN: Conversational Passage Ranking by Reasoning over Word Networks\\\", In Proceedings of the 28th Text Retrieval Conference (TREC), Gaithersburg, USA, 15-17 November 2019.\")), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, \"For feedback and clarifications, please contact:\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"http://people.mpi-inf.mpg.de/~mkaiser/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, \"Magdalena Kaiser\"), \" (mkaiser AT mpi HYPHEN inf DOT mpg DOT de)\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"http://people.mpi-inf.mpg.de/~rsaharo/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, \"Rishiraj Saha Roy\"), \" (rishiraj AT mpi HYPHEN inf DOT mpg DOT de)\"))))));\n};\n\nconst LoadingIndicator = props => {\n  const _usePromiseTracker = usePromiseTracker(),\n        promiseInProgress = _usePromiseTracker.promiseInProgress;\n\n  return promiseInProgress && React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"100\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    type: \"ThreeDots\",\n    color: \"#0366EE\",\n    height: 100,\n    width: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }));\n};\n\nconst TableBody = props => {\n  const questions = props.questions,\n        answers = props.answers,\n        answerids = props.answerids,\n        nodes = props.nodes,\n        edges = props.edges,\n        turn = props.turn;\n  console.log(\"in tablebody, questions: \" + questions);\n  console.log(\"in tablebody, answers: \" + answers);\n  console.log(\"in tablebody, turn: \" + turn);\n  var tablelayout = {\n    border: \"0\"\n  };\n  return React.createElement(\"table\", {\n    style: tablelayout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }, [...questions].reverse().map((question, index) => {\n    return React.createElement(\"tr\", {\n      className: \"noBorder\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(InnerTable, {\n      question: question,\n      answers: [...answers].reverse()[index],\n      answerids: [...answerids].reverse()[index],\n      nodes: [...nodes].reverse()[index],\n      edges: [...edges].reverse()[index],\n      nbr: index,\n      turn: turn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    })));\n  })));\n};\n\nconst InnerTable = props => {\n  const question = props.question,\n        answers = props.answers,\n        answerids = props.answerids,\n        nodes = props.nodes,\n        edges = props.edges,\n        nbr = props.nbr,\n        turn = props.turn;\n  const rows = answers.map((answer, index) => {\n    var modAnswer = answer;\n\n    for (var i = 0; i < nodes[answerids[index]].length; i++) {\n      var find = nodes[answerids[index]][i];\n      var pattern = \"(\\\\s|\\\\b)(\".concat(find, \")(\\\\s|\\\\b)\");\n      var regexp = new RegExp(pattern, 'ig'); // ignore case (optional) and match all\n\n      var replaceMask = \"$1<b>$2</b>$3\";\n      modAnswer = modAnswer.replace(regexp, replaceMask);\n    }\n\n    for (var j = 0; j < edges[answerids[index]].length; j++) {\n      var edge = edges[answerids[index]][j].replace(\"(\", \"\"); //edges[answerids[index]][j] = edges[answerids[index]][j].replace(\",\", \", \")\n\n      edge = edge.replace(\")\", \"\");\n      var find1 = edge.split(\",\")[0];\n      console.log(\"find1: \" + find1);\n      var find2 = edge.split(\",\")[1];\n      console.log(\"find2: \" + find2);\n      var pattern1 = \"(\\\\s|\\\\b)(\".concat(find1, \")(\\\\s|\\\\b)\");\n      var regexp1 = new RegExp(pattern1, 'ig'); // ignore case (optional) and match all\n\n      var pattern2 = \"(\\\\s|\\\\b)(\".concat(find2, \")(\\\\s|\\\\b)\");\n      var regexp2 = new RegExp(pattern2, 'ig');\n      var replaceMask = \"$1<b>$2</b>$3\";\n      modAnswer = modAnswer.replace(regexp1, replaceMask);\n      modAnswer = modAnswer.replace(regexp2, replaceMask);\n    }\n\n    nodes[answerids[index]] = nodes[answerids[index]].toString().replace(/,/g, ', ');\n    edges[answerids[index]] = edges[answerids[index]].toString().replace(/,/g, ', ');\n    return React.createElement(\"tr\", {\n      class: \"no-bottom-border\",\n      key: \"row_table\".concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, \"Rank \", index + 1, \": \"), \" \", ReactHtmlParser(modAnswer), \" [\", answerids[index], \"]\")), React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"nodes\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, \"Top Nodes: \"), nodes[answerids[index]])), React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"edges\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, \"Top Edges:\"), \" \", edges[answerids[index]]))))));\n    console.log(\"answers before: \" + answers);\n    answers = answers.toString().replace(/(<([^>]+)>)/ig, ' ');\n    console.log(\"answers after: \" + answers);\n  });\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: question,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }, \"Results for Turn \", turn - nbr + 1, \": \", question))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431\n    },\n    __self: this\n  }, rows));\n};\n\nconst Footer = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441\n    },\n    __self: this\n  }, React.createElement(\"footer\", {\n    className: \"footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"full-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445\n    },\n    __self: this\n  }, \"\\xA9 \", React.createElement(\"a\", {\n    href: \"https://www.mpi-inf.mpg.de/departments/databases-and-information-systems/\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  }, \"Database & Information Systems Group\"), \", \", React.createElement(\"a\", {\n    href: \"http://www.mpi-inf.mpg.de/home/\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }, \"Max Planck Institute for Informatics\"), \". 2019.\", \" | \", React.createElement(\"a\", {\n    href: \"https://imprint.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }, \"Impressum\"), \" | \", React.createElement(\"a\", {\n    href: \"https://data-protection.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  }, \"Datenschutz\"), React.createElement(\"img\", {\n    src: \"Logo_MPII.png\",\n    className: \".responsive-image\",\n    width: \"200\",\n    height: \"50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/local/home/mkaiser/Documents/TREC_CAsT/demo/treccast-app/src/App.js"],"names":["React","Component","Form","Options","Loader","usePromiseTracker","trackPromise","ReactHtmlParser","App","constructor","props","handleOptionChange","optionId","value","setState","validateState","console","log","state","edgeThreshold","errMessage","retNbr","indriRetNbr","nodeThreshold","score","parseFloat","h1","h2","h3","scoreVariance","diff","Math","abs","err","handleSubmit","question","api_err","fetch","headers","credentials","method","body","JSON","stringify","questions","convquery","then","response","ok","json","data","answers","answerids","nodes","edges","turn","catch","error","handleClearConv","showSampleAnswers","quest","aw1","aw2","aw3","aw4","aw5","ids1","ids2","ids3","ids4","ids5","nodes1","nodes2","nodes3","nodes4","nodes5","edges1","edges2","edges3","edges4","edges5","initialState","render","errorStyle","color","widthstyle","width","margin","inlinestyle","display","SampleQuestion","marginbutton","Description","LoadingIndicator","promiseInProgress","height","justifyContent","alignItems","TableBody","tablelayout","border","reverse","map","index","InnerTable","nbr","rows","answer","modAnswer","i","length","find","pattern","regexp","RegExp","replaceMask","replace","j","edge","find1","split","find2","pattern1","regexp1","pattern2","regexp2","toString","concat","Footer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport Form from './Form'\nimport Options from './Options'\nimport './index.css'\nimport Loader from 'react-loader-spinner';\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\nimport ReactHtmlParser from 'react-html-parser';\n\n\n\nclass App extends Component {\n  \n constructor(props) {\n    super(props);\n\n    this.initialState = {\n        questions:  [],\n        answers: [],\n        answerids: [],\n        nodes: [],\n        edges:[],\n        turn: -1,\n        retNbr: 3,\n        indriRetNbr: 100,\n        nodeThreshold: 0.75,\n        edgeThreshold: 0.0,\n        convquery: \"conv_w2\",\n        h1: 0.6,\n        h2: 0.3,\n        h3: 0.1,\n        err: \"\",\n        api_err: \"\"\n                \n    };\n\n    this.state = this.initialState;\n  }\n   // state = {\n     //   questions:  [],\n       //   answers: [],\n          //turn: -1\n        //};\n        \n    // prev_questions = []\n     //prev_answers = []\n    // prev_turn = -1\n        \n    handleOptionChange = (optionId, value) => {\n        this.setState({ [optionId]: value });\n    }\n    \n    validateState = () => {\n        console.log(\"state in validateState: \" + this.state.edgeThreshold)\n        var errMessage = \"\";\n        if(this.state.retNbr < 1 || this.state.retNbr > 20) {\n           errMessage = errMessage +\" The number of returned results must lie between 1 and 20!\";\n        }\n        if(this.state.indriRetNbr < 10 || this.state.indriRetNbr > 1000) {\n            errMessage = errMessage +\" The number of returned Indri passages must lie between 10 and 1000!\";\n        }\n        if(this.state.nodeThreshold < 0.5 || this.state.nodeThreshold > 1.0) {\n            errMessage = errMessage +\" The node threshold must lie between 0.5 and 1.0!\";\n        }\n        if(this.state.edgeThreshold < 0 || this.state.edgeThreshold > 0.1) {\n            errMessage = errMessage +\" The edge threshold must lie between 0.0 and 0.1!\";\n        }\n        \n        var score = parseFloat(this.state.h1) + parseFloat(this.state.h2) + parseFloat(this.state.h3)\n        console.log(\"score: \" + score)\n        var scoreVariance = 0.0001\n        var diff = Math.abs(1.0 - score)\n        console.log(\"diff: \" + diff)\n        if(Math.abs(1.0 - score) > scoreVariance ) {\n            errMessage = errMessage +\" The hyperparameters must sum up to 1.0!\";\n        }\n       \n        \n        this.setState({err: errMessage});\n        return errMessage;\n    }\n\n    \n    handleSubmit = question => { \n        this.setState({err: \"\", api_err: \"\"});\n        var errMessage = this.validateState();\n        if(errMessage !== \"\") {  \n            console.log(\"Abort because of wrong parameters\")\n            return;\n        }\n     \n        //this.setState({ questions: [...this.state.questions,question] }, () => {\n        if (question !== null && question !== \"\") {\n            trackPromise(\n                fetch(\"http://139.19.6.31:5000/getanswer\", {\n                //fetch(\"http://139.19.51.11:5000/getanswer\", {\n              // fetch(\"http://localhost:5000/getanswer\", {\n                     headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json', credentials: 'same-origin'},\n\n                method: 'post', body: JSON.stringify({\"questions\" : [...this.state.questions,question], \n                                                        \"retNbr\": this.state.retNbr, \"indriRetNbr\": this.state.indriRetNbr, \n                                                     \"nodeThreshold\": this.state.nodeThreshold, \"edgeThreshold\": this.state.edgeThreshold,\n                                                  \"convquery\": this.state.convquery, \"h1\": this.state.h1,\n                                                    \"h2\": this.state.h2, \"h3\": this.state.h3})\n                  }).then(response => {\n                    if (response.ok) {\n                      return response.json();\n                    } else {\n                        console.log(\"ERROR when calling REST Api, response was:\" + response);\n                      //throw new Error('ERROR when calling REST Api');\n                   //   this.setState({ answers:  [...this.state.answers,\"ERROR while calling REST API\"] }, () => {\n                      //  this.setState({turn: this.state.turn+1});\n\n                      //  })\n                    }\n                  })\n                  .then(data =>this.setState({questions: [...this.state.questions, question],\n                       answers:  [...this.state.answers,data[\"paragraphs\"]], answerids:  [...this.state.answerids,data[\"ids\"]], \n                       nodes: [...this.state.nodes, data[\"nodes\"]], edges: [...this.state.edges, data[\"edges\"]], turn: this.state.turn+1 }\n                   //, () => { this.setState({turn: this.state.turn+1});\n\n                  ))\n                  .catch(error => this.setState({api_err: error }, () => {\n                      console.log(\"ERROR when calling REST Api: \" + error);\n                      //this.setState({ answers:  [...this.state.answers,[\"ERROR while calling REST API\"]] }, () => {\n                        //this.setState({turn: this.state.turn+1});\n\n                        //})\n              })));\n          }\n\n       // });\n    \n    }\n \n    \n    handleClearConv = () => {\n        //this.setState(this.initialState)\n        this.setState({questions:  [],answers: [], answerids: [], nodes: [], edges: [], turn: -1})\n        \n    }\n    \n   \n    showSampleAnswers = () => {\n        var quest = [\"What flowering plants work for cold climates?\", \"How much cold can pansies tolerate?\", \"Does it have different varieties?\", \"Can it survive frost?\", \"How do I protect my plants from cold weather?\"  ]\n        var aw1 = [\"mosses and shrubs. Plant life on the tundra consists of short clumps of liches, mosses, shrubs and surprisingly, several hundred species of flowering plants. These plants are all adapted to cold, windy climates, and have shallow root systems to take advantage of the thin layer of thawed soil above the permafrost.osses and shrubs. Plant life on the tundra consists of short clumps of liches, mosses, shrubs and surprisingly, several hundred species of flowering plants. These plants are all adapted to cold, windy climates, and have shallow root systems to take advantage of the thin layer of thawed soil above the permafrost.\",\n        \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\",\n        \"The racemes of lipstick-red buds open to orange flowers; there's also red in the stems of the leaves. This tree's ability to flower only months after germination, quickness of growth, and poisonous seeds make it a weed in climates where it's hardy. The common name, rattlebox, comes from the dried seed pods.They hang on the branches in the winter, and the seeds they contain rattle in the wind. There's no danger when growing Sesbania tripetii in climates cold enough that the plants or (scarce) seeds can't survive the winter. new raceme emerges from the base of each new leaf. its eagerness to begin flowering: S. tripetii can begin flowering two or three months from germination, so the tree can also be grown as a colorful annual. Flowering season. The plant remains in bloom as long as it is in active growth, and that can be months.\"]\n        var aw2 = [\" Also known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.lso known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.\",\n        \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\",\n        \"Some of the types of flowers that are considered hardy annuals include the pansy, cornflower, and larkspur. Annuals that can tolerate damp, cold temperatures, but not frost are called half-hardy annuals.Some examples of half-hardy annual flowers include forget-me-nots, bells of Ireland, and baby's breath.hese terms are used as a means of identifying and separating certain types of flowers. What makes them different from one another is the life cycle of the plants and how long they produce blooms. When planting flowers or creating a garden, it is necessary to understand which plants are perennials and which are annuals.\"]\n        var aw3 = [\"Also known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions.lso known as Winter Pansies, these are hardier than regular bedding pansies, tolerating more winter cold and summer heat. Plants form a low, bushy mound of bright green leaves, with loads of fragrant miniature pansy flowers from early spring to late fall, all winter in milder regions. \", \n        \"Common annuals are marigold, vinca, begonia, coleus, zinnia, impatiens, petunia, nasturtium and pentas. But climate plays a big role in determing an annual plant's lifecycle â some varieties of daisies, geranium, lantana, mandevilla, pansies and verbena are perennials in warm climates.nnuals. As their name implies, annuals are plants that complete their life cycle in only one season. Typically used to add seasonal color to flowerbeds and planters, these prolific bloomers die back after flowering. Removing spent blooms will stimulate annuals to produce more showy flowers. \", \n        \"Back to Top. Hardy flowering plants can be defined as seasonal plants or a plant, which is adapted to the temperature, climate and to certain area. Hardy flowering plants have an ability to tolerate extreme cold, heat, wind, floods, and other geographic location, etc. Different types of hardy flowering plants.\"]\n        var aw4 = [\"The plant's growth is highly variable due to a high complexity of different subspecies, varieties and landraces (domesticated plants or animals adapted to the environment in which they originated). However, in general it is undemanding and altitude-hardy. It is grown from coastal regions to over in the Andes near the equator, with most of the cultivars being grown between and . Depending on the variety, optimal growing conditions are in cool climates with temperatures that vary between during the night to near during the day. Some cultivars can withstand lower temperatures without damage. Light frosts normally do not affect the plants at any stage of development, except during flowering. Mid-summer frosts during flowering, often occurring in the Andes, lead to sterilization of the pollen. Rainfall conditions are highly variable between the different cultivars, ranging from during growing season. Growth is optimal with well-distributed rainfall during early growth and development and dry conditions during seed maturation and harvesting.\",\n        \"Penta (Pentas lanceolata) is an evergreen bush that, in warm climates, will light up the landscape all year with colorful star-shaped clusters. Hummingbirds and butterflies will often visit the penta blooms before they visit other flowering plants. Although penta can survive an occasional light frost, it won't tolerate a hard freeze. If you live in a cold climate, either grow penta as an annual or plant it in a container and bring it indoors for the winter.\",\n        \"Overview. Perfect for gardens in temperate climates, hydrangeas need a winter dormancy that is punctuated with frost and subfreezing temperatures. However, if a hydrangea shrub is leafy or in bloom, frost will scald it and turn the plant tissue brown, and the petals and leaves will drop off.Untimely spring frosts can kill flower and leaf buds on shrubs, and reduce or prevent flowering later in spring and summer.rotect shrubs from a late frost by covering them with a cloth sheet or blanket when unseasonal cold is forecast. Plants nipped by frost should be cleaned and pruned only when there is no further threat of frost in spring. Frost causes hydrangeas' petals and leaves to turn brown in early to mid-autumn.\"]\n        var aw5 = [\"To protect your plants adequately, you need know what plants you have, and to understand: our desert cold weather; how plants respond to cold; some methods to prevent severe frost damage; and what to do if a plant is frost damaged.Understanding our Desert Cold Weather Humidity slows temperature changes.o protect your plants adequately, you need know what plants you have, and to understand: our desert cold weather; how plants respond to cold; some methods to prevent severe frost damage; and what to do if a plant is frost damaged.\",\n        \"Crocus sativus thrives in the Mediterranean maquis, an ecotype superficially resembling the North American chaparral, and similar climates where hot and dry summer breezes sweep semi-arid lands. It can nonetheless survive cold winters, tolerating frosts as low as and short periods of snow cover. Irrigation is required if grown outside of moist environments such as Kashmir, where annual rainfall averages ; saffron-growing regions in Greece ( annually) and Spain () are far drier than the main cultivating Iranian regions. What makes this possible is the timing of the local wet seasons; generous spring rains and drier summers are optimal. Rain immediately preceding flowering boosts saffron yields; rainy or cold weather during flowering promotes disease and reduces yields. Persistently damp and hot conditions harm the crops, and rabbits, rats, and birds cause damage by digging up corms. Nematodes, leaf rusts, and corm rot pose other threats. Yet Bacillus subtilis inoculation may provide some benefit to growers by speeding corm growth and increasing stigma biomass yield. \",\n    \"Penta (Pentas lanceolata) is an evergreen bush that, in warm climates, will light up the landscape all year with colorful star-shaped clusters. Hummingbirds and butterflies will often visit the penta blooms before they visit other flowering plants. Although penta can survive an occasional light frost, it won't tolerate a hard freeze. If you live in a cold climate, either grow penta as an annual or plant it in a container and bring it indoors for the winter.\"]\n        var ids1 = [\"MARCO_8519619\", \"MARCO_3510175\", \"MARCO_1471956\"]\n        var ids2 = [\"MARCO_5611079\", \"MARCO_3510175\", \"MARCO_4909757\"]\n        var ids3 = [\"MARCO_5611079\", \"MARCO_8248044\", \"MARCO_3510175\"]\n        var ids4 = [\"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\", \"MARCO_5160988\", \"MARCO_3020008\"]\n        var ids5 = [\"MARCO_4989678\", \"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\", \"MARCO_5160988\"]\n    \n        \n        var nodes1 = {\"MARCO_8519619\": [\"cold\", \"plants\",\"climates\",\"flowering\",\"plant\"], \"MARCO_3510175\": [\"cold\", \"plants\",\"flowering\",\"plant\"], \"MARCO_1471956\": [\"cold\",\"plants\",\"climates\",\"flowering\",\"plant\"]}\n      \n        var nodes2 = {\"MARCO_5611079\": [\"cold\", \"plants\",\"pansies\"], \"MARCO_3510175\": [\"plants\",\"cold\",\"tolerate\",\"flowering\",\"plant\"], \"MARCO_4909757\": [\"cold\", \"plants\",\"tolerate\"]}\n        \n        var nodes3 = {\"MARCO_5611079\": [\"cold\", \"plants\",\"pansies\"],\"MARCO_8248044\": [\"plants\",\"varieties\",\"flowering\",\"plant\",\"pansies\"], \"MARCO_3510175\": [\"cold\",\"plants\",\"different\",\"flowering\",\"plant\"]}\n        \n        var nodes4 = {\"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\": [\"plants\",\"climates\",\"flowering\",\"plant\",\"frosts\"],\"MARCO_5160988\": [\"cold\",\"plants\",\"survive\",\"frost\",\"climates\"], \"MARCO_3020008\": [\"cold\",\"plants\",\"frost\",\"climates\",\"flowering\"]}\n \n        var nodes5 = {\"MARCO_4989678\": [\"protect\",\"cold\",\"plants\",\"weather\",\"plant\"],\"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\": [\"cold\",\"weather\",\"climates\",\"flowering\",\"survive\"], \"MARCO_5160988\": [\"cold\",\"plants\",\"climates\",\"flowering\",\"plant\"]}\n        \n       \n        var edges1 = {\"MARCO_8519619\": [\" (flowering,plants)\",\"(climates,cold)\"], \"MARCO_3510175\": [\"(flowering,plants)\"], \"MARCO_1471956\": [\" (flowering,plant)\",\"(climates,cold)\",\"(bloom,plant)\",\"(climates,plants)\"]}\n      \n        var edges2 = {\"MARCO_5611079\": [\"(cold,pansies)\"], \"MARCO_3510175\": [\"(flowering,plants)\",\"(plants,tolerate)\",\"(cold,tolerate)\",\"(flowering,tolerate)\"], \"MARCO_4909757\": [\"(cold,tolerate)\"]}\n        \n        var edges3 = {\"MARCO_5611079\": [\"(cold,pansies)\"],\"MARCO_8248044\": [\"(plant,varieties)\"], \"MARCO_3510175\": [\"(flowering,plants)\",\"(plants,tolerate)\",\"(cold,tolerate)\",\"(flowering,tolerate)\"]}\n       \n        var edges4 = {\"CAR_a700df6d08799ed421b57ede0e72b1a826862c3f\": [\" (flowering,plants)\",\"(frosts,plants)\",\"(flowering,frosts)\",\"(different,varieties)\",\"(plants,varieties)\"],\"MARCO_5160988\": [\"(flowering,plants)\",\"(frost,tolerate)\",\"(plants,survive)\",\"(frost,survive)\",\"(flowering,survive)\"], \"MARCO_3020008\": [\"(bloom,frost)\",\"(frost,plant)\",\"(frost,plants)\"]}\n       \n        var edges5 = {\"MARCO_4989678\": [\"(cold,weather)\",\"(frost,plant)\"],\"CAR_5a3908be91058023e34e7a33a64b24c8f4382fa9\": [\"(cold,weather)\",\"(cold,frosts)\",\"(cold,survive)\"], \"MARCO_5160988\": [\"(flowering,plants)\",\"(frost,tolerate)\",\"(plants,survive)\",\"(frost,survive)\",\"(flowering,survive)\"]}\n       \n        this.setState({questions:  quest ,answers: [aw1, aw2, aw3, aw4, aw5], answerids: [ids1, ids2, ids3, ids4, ids5], nodes: [nodes1, nodes2, nodes3, nodes4, nodes5], edges: [edges1, edges2, edges3, edges4, edges5], turn: 4})\n        \n\n    }\n\n\n    render() {\n      //#191970\n        var errorStyle = \n                {color:\"#FF0000\", \"margiBottom\": \"70px\"}\n        var widthstyle = { width: \"80%\"}\n        var margin = {\"marginBottom\": \"30px\"}\n        var inlinestyle = {display: \"inline\"}\n        return (\n                  <div className=\"full-container\" >\n                 <h3 align=\"center\" style={margin}>CROWN: Conversational Passage Ranking By Reasoning Over Word Networks</h3>\n                <div className=\"flex-row\">\n                \n           \n                    <div className=\"flex-small\">\n                      <div className=\"container\" align=\"justify\" style={widthstyle} >\n                      {this.state.err && <div className=\"error-message\"><h2 align=\"center\" style={errorStyle}>{this.state.err}</h2></div>}\n                        {this.state.api_err && <div className=\"error-message\" style={errorStyle}>{\" \"}{\"500 Internal Server Error\"}</div>}\n                        <Form handleSubmit={this.handleSubmit} onSubmit={this.handleSubmit} handleClearConv={this.handleClearConv} />  {  }   \n                        <LoadingIndicator/> {  }  \n                        <TableBody questions={this.state.questions} answers={this.state.answers} answerids={this.state.answerids} nodes={this.state.nodes} edges={this.state.edges} turn={this.state.turn}/>\n                        <Description/>\n                    </div>\n                    </div>\n                 \n                  <div className=\"flex-small\">\n                   \n                     <div className=\"container\" style={widthstyle}>\n                        <SampleQuestion showSampleAnswers={this.showSampleAnswers}/> { }\n                        <Options onChange={this.handleOptionChange} value={this.state}/>\n                    </div>\n                    </div>\n                </div>\n                <Footer/>\n                </div>\n            \n        \n          ); \n     \n    };\n    \n    // <div className=\"small-container\">  <div className=\"flex-small\">\n}\n\nconst SampleQuestion = props  => {\n     var marginbutton = {\"marginLeft\": \"80%\"}\n      \n    const {showSampleAnswers} = props\n    return(\n       \n                \n        <table >\n            <thead> \n                <tr key={'sampleconv_head'}>\n                <th>Sample Conversation on Flowering Plants for Cold Climates</th>\n                \n                </tr>\n            </thead>\n            <tbody>\n                <tr className=\"no-bottom-border\" key={'turn1'}>\n                    <td>\n                        <b>Turn 1: </b> What flowering plants work for cold climates? <br/>     \n                        <b>Turn 2: </b> How much cold can pansies tolerate? <br/>\n                        <b>Turn 3: </b> Does it have different varieties?<br/>\n                        <b>Turn 4: </b> Can it survive frost?<br/>\n                        <b>Turn 5: </b> How do I protect my plants from cold weather?\n                    </td>\n                </tr>\n              \n                <tr key={'buttonrow'} >\n                    <td><button className=\"button\"  onClick={showSampleAnswers} style={marginbutton}>Answer</button></td>\n                </tr>\n                \n                \n            </tbody>   \n        </table>\n    )\n}\n\nconst Description = () => {\n    return (\n        <table >\n            <thead> \n                <tr key={'description'}>\n                    <th>Description</th>\n                </tr>\n            </thead>\n            <tbody  align=\"justify\">\n               <tr key={'desc'}>\n                    <td  align=\"justify\">\n                        <p  align=\"justify\">CROWN is an unsupervised approach for conversational passage ranking. Answers are retrieved from MS MARCO and TREC CAR datasets. We formulated the objective of maximizing the passage score for a query as a combination of similarity and coherence. Passages are preferred that\ncontain words semantically similar to the words used in the question. Coherence\nis expressed using term proximity. We built a word-proximity network\nfrom the corpus, where words are nodes and there is an edge\nbetween two nodes if they co-occur in the same passage in a statistically\nsignificant way, within a context window. We use NPMI (normalized pointwise\nmutual information) as a measure of this word association significance.</p>\n\n                        <p>Our code and data are available here.</p>\n\n                        <p  align=\"justify\">To cite CROWN:</p>\n                        <ul><li>Magdalena Kaiser, Rishiraj Saha Roy and Gerhard Weikum, 2019, \"CROWN: Conversational Passage Ranking by Reasoning over Word Networks\", In Proceedings of the 28th Text Retrieval Conference (TREC), Gaithersburg, USA, 15-17 November 2019.</li></ul>\n                        <p>For feedback and clarifications, please contact:</p>\n                            <ul>\n                           \n                                <li><a href=\"http://people.mpi-inf.mpg.de/~mkaiser/\">Magdalena Kaiser</a> (mkaiser AT mpi HYPHEN inf DOT mpg DOT de)</li>\n                                <li><a href=\"http://people.mpi-inf.mpg.de/~rsaharo/\">Rishiraj Saha Roy</a> (rishiraj AT mpi HYPHEN inf DOT mpg DOT de)</li>\n                            </ul>\n                       \n                    </td>\n                </tr>\n            </tbody>   \n        </table>\n    )\n}\n\nconst LoadingIndicator = props => {\n   const { promiseInProgress } = usePromiseTracker();\n\n   return (\n        promiseInProgress && \n        <div style={{ \n            width: \"100%\",\n            height: \"100\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"}}>\n            <Loader type=\"ThreeDots\" color=\"#0366EE\" height={100} width={100} />\n        </div>\n  );  \n }\n\n  \nconst TableBody = props  => {\n    \n   const {questions, answers, answerids, nodes, edges, turn} = props;\n  \n   console.log(\"in tablebody, questions: \" + questions)\n   console.log(\"in tablebody, answers: \" + answers)\n    console.log(\"in tablebody, turn: \" + turn)\n      \n   var tablelayout = {border: \"0\"} \n   \n    return (\n        <table style={tablelayout}> \n            <tbody  >\n             {[...questions].reverse().map((question, index) => {\n                 return (\n                    <tr className=\"noBorder\" key={index}>\n                        <td>\n                        <InnerTable question={question} answers={[...answers].reverse()[index]} answerids={[...answerids].reverse()[index]}  \n                        nodes={[...nodes].reverse()[index]}  edges={[...edges].reverse()[index]}  nbr={index} turn={turn}/>\n                        </td>\n                    </tr>\n                     \n                 )})\n            }\n            </tbody>\n        </table>\n    );\n  \n   \n}; \n\n\nconst InnerTable = props => {\n    \n    const {question, answers, answerids, nodes, edges, nbr, turn} = props\n    \n    \n    const rows = answers.map((answer, index) => {\n        var modAnswer = answer;\n        \n        for (var i = 0; i < nodes[answerids[index]].length; i++) {\n            var find = nodes[answerids[index]][i]\n            \n            var pattern = `(\\\\s|\\\\b)(${find})(\\\\s|\\\\b)`;\n            var regexp = new RegExp(pattern, 'ig'); // ignore case (optional) and match all\n            var replaceMask = `$1<b>$2</b>$3`;\n            modAnswer = modAnswer.replace(regexp, replaceMask);\n         \n        }\n        for (var j = 0; j < edges[answerids[index]].length; j++) {\n            var edge = edges[answerids[index]][j].replace(\"(\", \"\")\n            //edges[answerids[index]][j] = edges[answerids[index]][j].replace(\",\", \", \")\n            edge = edge.replace(\")\", \"\")\n            var find1 = edge.split(\",\")[0];\n            console.log(\"find1: \"+ find1)\n            var find2 = edge.split(\",\")[1];\n            console.log(\"find2: \"+ find2)\n            var pattern1 = `(\\\\s|\\\\b)(${find1})(\\\\s|\\\\b)`;\n            var regexp1 = new RegExp(pattern1, 'ig'); // ignore case (optional) and match all\n            var pattern2 = `(\\\\s|\\\\b)(${find2})(\\\\s|\\\\b)`;\n            var regexp2 = new RegExp(pattern2, 'ig'); \n            var replaceMask = `$1<b>$2</b>$3`;\n            modAnswer = modAnswer.replace(regexp1, replaceMask);\n            modAnswer = modAnswer.replace(regexp2, replaceMask);\n        }\n        nodes[answerids[index]] = nodes[answerids[index]].toString().replace(/,/g, ', ')\n        edges[answerids[index]] = edges[answerids[index]].toString().replace(/,/g, ', ')\n      \n        return(\n        <tr class=\"no-bottom-border\" key={\"row_table\".concat(index.toString())}>\n            <td>\n                <table>\n                    <tbody>\n                        <tr className=\"no-bottom-border\" key={\"\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>\n                            <td><b>Rank {index+1}: </b> {ReactHtmlParser(modAnswer)} [{answerids[index]}]</td>\n\n                        </tr>\n                        <tr className=\"no-bottom-border\" key={\"nodes\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>\n                            <td><b>Top Nodes: </b>{nodes[answerids[index]]}</td>\n                        </tr>\n\n                        <tr className=\"no-bottom-border\" key={\"edges\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>  \n                            <td><b>Top Edges:</b> {edges[answerids[index]]}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n         );\n          console.log(\"answers before: \" + answers)\n         answers = answers.toString().replace( /(<([^>]+)>)/ig, ' ');\n           console.log(\"answers after: \" + answers)\n        \n    });\n\n    return (\n        <table>\n           <thead>\n                <tr key={question}>\n                    <th>Results for Turn {turn-nbr+1}: {question}</th>\n                </tr>\n           </thead>\n           <tbody>{rows}</tbody>\n        </table>\n    )\n       \n};\n\n\nconst Footer = () => {\n    \n    return (\n        <div>\n            <footer className=\"footer\" >\n                <hr/>\n                <div className=\"full-container\">\n                    <p align=\"right\">         \n                       \n                        © <a href=\"https://www.mpi-inf.mpg.de/departments/databases-and-information-systems/\" target=\"_blank\">Database\n                                                            &amp; Information Systems Group</a>, <a href=\"http://www.mpi-inf.mpg.de/home/\" target=\"_blank\">Max Planck Institute\n                                                            for Informatics</a>. 2019.{ } | { }\n                        <a href=\"https://imprint.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\" target=\"_blank\">Impressum</a>{ } | { }\n                        <a href=\"https://data-protection.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\" target=\"_blank\">Datenschutz</a>\n                        <img src=\"Logo_MPII.png\" className=\".responsive-image\"  width=\"200\" height=\"50\"/>            \n                    </p> \n                </div>               \n            </footer>\n        </div>\n    )  \n};\n\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}