{"ast":null,"code":"var _jsxFileName = \"/local/home/mkaiser/Documents/TREC_CAsT/demo/treccast-app/src/App.js\";\nimport React, { Component } from 'react';\nimport Form from './Form';\nimport Options from './Options';\nimport './index.css';\nimport Loader from 'react-loader-spinner';\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\nimport ReactHtmlParser from 'react-html-parser'; //current blue button color: #0366EE\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOptionChange = (optionId, value) => {\n      this.setState({\n        [optionId]: value\n      });\n    };\n\n    this.validateState = () => {\n      var errMessage = \"\";\n\n      if (this.state.retNbr < 1 || this.state.retNbr > 20) {\n        errMessage = errMessage + \" The number of returned results must lie between 1 and 20!\";\n      }\n\n      if (this.state.indriRetNbr < 10 || this.state.indriRetNbr > 1000) {\n        errMessage = errMessage + \" The number of returned Indri passages must lie between 10 and 1000!\";\n      }\n\n      if (this.state.nodeThreshold < 0.5 || this.state.nodeThreshold > 1.0) {\n        errMessage = errMessage + \" The node threshold must lie between 0.5 and 1.0!\";\n      }\n\n      if (this.state.edgeThreshold < 0 || this.state.edgeThreshold > 0.1) {\n        errMessage = errMessage + \" The edge threshold must lie between 0.0 and 0.1!\";\n      }\n\n      var score = parseFloat(this.state.h1) + parseFloat(this.state.h2) + parseFloat(this.state.h3) + parseFloat(this.state.h4);\n      var scoreVariance = 0.0001;\n\n      if (Math.abs(1.0 - score) > scoreVariance) {\n        errMessage = errMessage + \" The hyperparameters must sum up to 1.0!\";\n      }\n\n      this.setState({\n        err: errMessage\n      });\n      return errMessage;\n    };\n\n    this.handleSubmit = question => {\n      this.setState({\n        err: \"\",\n        api_err: \"\"\n      });\n      var errMessage = this.validateState();\n\n      if (errMessage !== \"\") {\n        console.log(\"Abort because of wrong parameters\");\n        return;\n      }\n\n      if (question !== null && question !== \"\") {\n        trackPromise( //fetch(\"http://139.19.6.31:5000/getanswer\", {\n        fetch(\"http://139.19.51.11:9999/getanswer\", {\n          //fetch(\"http://crown.mpi-inf.mpg.de:5000/getanswer\", {\n          // fetch(\"http://139.19.52.26:5000/getanswer\", {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            credentials: 'same-origin'\n          },\n          method: 'post',\n          body: JSON.stringify({\n            \"questions\": [...this.state.questions, question],\n            \"retNbr\": this.state.retNbr,\n            \"indriRetNbr\": this.state.indriRetNbr,\n            \"nodeThreshold\": this.state.nodeThreshold,\n            \"edgeThreshold\": this.state.edgeThreshold,\n            \"convquery\": this.state.convquery,\n            \"h1\": this.state.h1,\n            \"h2\": this.state.h2,\n            \"h3\": this.state.h3,\n            \"h4\": this.state.h4\n          })\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            console.log(\"ERROR when calling REST Api, response was:\" + response);\n          }\n        }).then(data => this.setState({\n          questions: [...this.state.questions, question],\n          answers: [...this.state.answers, data[\"paragraphs\"]],\n          answerids: [...this.state.answerids, data[\"ids\"]],\n          nodes: [...this.state.nodes, data[\"nodes\"]],\n          edges: [...this.state.edges, data[\"edges\"]],\n          turn: this.state.turn + 1,\n          topsentences: [...this.state.topsentences, data[\"top_sentences\"]]\n        })).catch(error => this.setState({\n          api_err: error\n        }, () => {\n          console.log(\"ERROR when calling REST Api: \" + error);\n        })));\n      }\n    };\n\n    this.handleClearConv = () => {\n      this.setState({\n        questions: [],\n        answers: [],\n        answerids: [],\n        nodes: [],\n        edges: [],\n        turn: -1,\n        topsentences: []\n      });\n    };\n\n    this.handleClearLastTurn = () => {\n      if (this.state.turn >= 0) {\n        //since we start at -1\n        this.setState({\n          questions: this.state.questions.slice(0, this.state.questions.length - 1),\n          answers: this.state.answers.slice(0, this.state.answers.length - 1),\n          answerids: this.state.answerids.slice(0, this.state.answerids.length - 1),\n          nodes: this.state.nodes.slice(0, this.state.nodes.length - 1),\n          edges: this.state.edges.slice(0, this.state.edges.length - 1),\n          turn: this.state.turn - 1,\n          topsentences: this.state.topsentences.slice(0, this.state.questions.length - 1)\n        });\n      }\n    };\n\n    this.showSampleAnswers = () => {\n      var quest = [\"when did nolan make his batman movies\", \"who was Caine\", \"and what about the joker\", \"role of jokers darkness\", \"reception at the box office\"];\n      var aw1 = [\"Nolan wanted the story for the third and final installment to keep him emotionally invested. \\\"On a more superficial level, I have to ask the question,\\\" he reasoned, \\\"how many good third movies in a franchise can people name?\\\"He returned out of finding a necessary way to continue the story, but feared midway through filming he would find a sequel redundant.The Dark Knight Rises is intended to complete Nolan's Batman trilogy.By December 2008, Nolan completed a rough story outline, before he committed himself to Inception.In February 2010, work on the screenplay was commencing with David S. Goyer and Jonathan Nolan.When Goyer left to work on the Superman reboot, Jonathan was writing the script based on the story by his brother and Goyer.Tom Hardy was cast as Bane and Anne Hathaway plays Selina Kyle.Joseph Gordon-Levitt was cast as John Blake, and Marion Cotillard was cast as Miranda Tate.Filming began in May 2011 and concluded in November.Nolan chose not to film in 3-D but, by focusing on improving image quality and scale using the IMAX format, hoped to push technological boundaries while nevertheless making the style of the film consistent with the previous two.Nolan had several meetings with IMAX Vice-President David Keighley to work on the logistics of projecting films in digital IMAX venues.The Dark Knight Rises featured more scenes shot in IMAX than The Dark Knight.Cinematographer Wally Pfister expressed interest in shooting the film entirely in IMAX.During the film, set eight years after Dark Knight, the arrival of new foe Bane forces Bruce to return to his old role as Batman, only to find himself overpowered and captured by Bane as Gotham is cut off from the rest of the world with a stolen Wayne Enterprises fusion generator prototype set to go off in a few months.With the aid of thief Selina Kyle, Bruce is able to return to Gotham and defeat Bane while redeeming his image as Batman.The film concludes with Bruce having 'retired' as Batman after faking his death to live with Selina Kyle, evidence suggesting that he has passed on the Batcave to new ally Detective John Blake (real first name Robin) while Gotham rebuilds in memory of the Dark Knight's heroism.\", \"With production delays continuing, and the success of The Dark Knight in July 2008, Warner Bros. decided to focus on development of individual films featuring the main heroes, allowing director Christopher Nolan to separately complete his Batman trilogy with The Dark Knight Rises in 2012.Gregory Noveck, senior vice president of creative affairs for DC Entertainment stated \\\"we’re going to make a Justice League movie, whether it's now or 10 years from now.But we’re not going to do it and Warners is not going to do it until we know it's right.\\\"Actor Adam Brody joked \\\"They [Warner Brothers] just didn’t want to cross their streams with a whole bunch of Batmans in the universe.\\\"Warner Bros. relaunched development for the solo Green Lantern film, released in 2011 as a critical and financial disappointment.Meanwhile, film adaptations for the The Flash and Wonder Woman continued to languish in development while filming for a Superman reboot was commencing in 2011 with Man of Steel, produced by Nolan and written by Batman screenwriter David S. Goyer.Shortly after filming had finished for Man of Steel, Warner Bros hired Will Beall to script a new Justice League film.Warner Bros. president Jeff Robinov explained that Man of Steel would be \\\"setting the tone for what the movies are going to be like going forward.In that, it's definitely a first step.\\\"The film included references to the existence of other superheroes in the DC Universe, and setting the tone for a shared fictional universe of DC Comics characters on film.Goyer stated should Green Lantern appear in a future installment, that it would be a rebooted version of the character and not connected to the 2011 film.With the release of Man of Steel in June 2013, Goyer was hired to write a sequel, as well as a new Justice League, with the Beall draft being scrapped.The sequel was later revealed to be Batman v Superman: Dawn of Justice, a team up film featuring Ben Affleck as Batman, Gal Gadot as Wonder Woman, and Ray Fisher as Victor Stone / Cyborg in a minor role that will become more significant in leading up to the proposed Justice League film.The universe is separate from Nolan and Goyer's work on The Dark Knight trilogy, although Nolan is still involved as an executive producer for Batman v Superman.In April 2014, it was announced that Zack Snyder would also be directing Goyer's Justice League script.Warner Bros. was reportedly courting Chris Terrio to rewrite Justice League the following July, after having been impressed with his rewrite of Batman v Superman: Dawn of Justice.On October 15, 2014, Warner Bros. announced the film would be released in two parts, with Part One releasing on November 17, 2017, and Part Two on June 14, 2019.Snyder will direct both films.In early July 2015, EW revealed that the script for Justice League Part One had been completed by Terrio.Zack Snyder stated that the film will be inspired by the New Gods comic series by Jack Kirby.Although Justice League was initially announced as a two-part film with the second part releasing two years after the first, Snyder announced in June 2016 that they would be two distinct, separate films and not one film split into two parts, both being stand-alone stories.\", \"Film director Tim Burton—who had directed the 1989 Batman film—felt Nolan \\\"captured the real spirit that these kind of movies are supposed to have nowadays.When I did Batman twenty years ago, in 1988 or something, it was a different time in comic book movies.You couldn't go into that dark side of comics yet.The last couple of years that has become acceptable and Nolan certainly got more to the root of what the Batman comics are about.\\\"\"];\n      var aw2 = [\"Christian Bale, Michael Caine and Cillian Murphy have been frequent collaborators since Batman Begins.Caine is Nolan's most prolific collaborator, having appeared in six of his films, and is regarded by Nolan to be his \\\"good luck charm\\\".In return, Caine has described Nolan as \\\"one of cinema's greatest directors\\\", comparing him favorably with the likes of David Lean, John Huston and Joseph L. Mankiewicz.Nolan is also known for casting stars from the 1980s in his films, i.e. Rutger Hauer (Batman Begins), Eric Roberts (The Dark Knight), Tom Berenger (Inception), and Matthew Modine (The Dark Knight Rises).Modine said of working with Nolan: \\\"There are no chairs on a Nolan set, he gets out of his car and goes to the set.And he stands up until lunchtime.And then he stands up until they say \\'Wrap\\'.He\\'s fully engaged – in every aspect of the film.\\\"\", \"With production delays continuing, and the success of The Dark Knight in July 2008, Warner Bros. decided to focus on development of individual films featuring the main heroes, allowing director Christopher Nolan to separately complete his Batman trilogy with The Dark Knight Rises in 2012.Gregory Noveck, senior vice president of creative affairs for DC Entertainment stated \\\"we’re going to make a Justice League movie, whether it's now or 10 years from now.But we’re not going to do it and Warners is not going to do it until we know it's right.\\\"Actor Adam Brody joked \\\"They [Warner Brothers] just didn’t want to cross their streams with a whole bunch of Batmans in the universe.\\\"Warner Bros. relaunched development for the solo Green Lantern film, released in 2011 as a critical and financial disappointment.Meanwhile, film adaptations for the The Flash and Wonder Woman continued to languish in development while filming for a Superman reboot was commencing in 2011 with Man of Steel, produced by Nolan and written by Batman screenwriter David S. Goyer.Shortly after filming had finished for Man of Steel, Warner Bros hired Will Beall to script a new Justice League film.Warner Bros. president Jeff Robinov explained that Man of Steel would be \\\"setting the tone for what the movies are going to be like going forward.In that, it's definitely a first step.\\\"The film included references to the existence of other superheroes in the DC Universe, and setting the tone for a shared fictional universe of DC Comics characters on film.Goyer stated should Green Lantern appear in a future installment, that it would be a rebooted version of the character and not connected to the 2011 film.With the release of Man of Steel in June 2013, Goyer was hired to write a sequel, as well as a new Justice League, with the Beall draft being scrapped.The sequel was later revealed to be Batman v Superman: Dawn of Justice, a team up film featuring Ben Affleck as Batman, Gal Gadot as Wonder Woman, and Ray Fisher as Victor Stone / Cyborg in a minor role that will become more significant in leading up to the proposed Justice League film.The universe is separate from Nolan and Goyer's work on The Dark Knight trilogy, although Nolan is still involved as an executive producer for Batman v Superman.In April 2014, it was announced that Zack Snyder would also be directing Goyer's Justice League script.Warner Bros. was reportedly courting Chris Terrio to rewrite Justice League the following July, after having been impressed with his rewrite of Batman v Superman: Dawn of Justice.On October 15, 2014, Warner Bros. announced the film would be released in two parts, with Part One releasing on November 17, 2017, and Part Two on June 14, 2019.Snyder will direct both films.In early July 2015, EW revealed that the script for Justice League Part One had been completed by Terrio.Zack Snyder stated that the film will be inspired by the New Gods comic series by Jack Kirby.Although Justice League was initially announced as a two-part film with the second part releasing two years after the first, Snyder announced in June 2016 that they would be two distinct, separate films and not one film split into two parts, both being stand-alone stories.\", \"However, Nolan absolutely deserves credit for delivering the best Batman movies that anyone has made to date.The Dark Knight Trilogy was impeccably well cast, starting with Christian Bale as Bruce Wayne/Batman; along with Michael Caine as Alfred, Gary Oldman as Jim Gordon, and Morgan Freeman as Lucius Fox.\"];\n      var aw3 = [\"The Dark Knight is a 2008 superhero thriller film directed, produced, and co-written by Christopher Nolan.Featuring the DC Comics character Batman, the film is the second part of Nolan's The Dark Knight Trilogy and a sequel to 2005's Batman Begins, starring an ensemble cast including Christian Bale, Michael Caine, Heath Ledger, Gary Oldman, Aaron Eckhart, Maggie Gyllenhaal and Morgan Freeman.In the film, Bruce Wayne/Batman (Bale), James Gordon (Oldman) and Harvey Dent (Eckhart) form an alliance to dismantle organised crime in Gotham City, but are menaced by a criminal mastermind known as the Joker (Ledger) who seeks to undermine Batman's influence and create chaos.\", \"Now hunted by the police, Batman must discover who is behind the frame up and how everything that has occurred since Joker's disappearance factor in together.He ultimately heads back to Funnibones Warehouse disguised for more information, only to discover the knife that the Joker was holding the night he fell from the bridge; the Joker is not dead after all.Joker reveals that he was behind the entire crime wave that occurred after faking his death by subtly manipulating the other villains and using Isaac Evers' research, having worked with the scientist and funded all his experiments and operations through his ill conceived fortune, to produce large quantities of the highly flammable Promethium.Weeks earlier, Joker had arranged the fake kidnapping scheme to fake his own death in order to reside in the shadows and out of the police and Batman's scope while he manipulated the other villains; he sent Mr. Freeze the promotional tape on Promethium to provoke him into attacking Isaac's lair so his men could convince Evers to hire their services in an insurance scam with the use of Gotham Gasworks, provided Poison Ivy with the plant enhancement chemical and used her schemes to rebuild Gotham Chemical to mass-produce his own signature Joker toxin in a quiet fashion without Batman suspecting his true plans, and finally used Harley to relay false information to Batman to send him deeper into his plot at the Gasworks and ultimately frame him for attacking Commissioner Gordon.Using Evers as a scapegoat for the Gasworks scheme, Joker reveals that he used Batman to open up the pipes to the sprinkler system, which Joker then plans to use to pump in his Joker toxin, mixed with Evers' drug, all over the city through a feed tube connected to the previously stolen blimp, now filled with the deadly compound, and burn the city to the ground while its citizen choke to death on their own laughter.The motive of the entire scheme is that Gotham would be completely destroyed with the punchline being that Batman had been unknowingly aiding in the scheme due to Joker's manipulation.Joker then prepares to escape in the blimp and watch Gotham from above become engulf in flames and toxin, leaving groups of his men, armed with explosives and flamethrowers, to slow the hero down.Despite this, Batman manages to shut down the gas flow and defeat all of Joker's thugs in time to get on the Joker's blimp.Despite having stopped the flow of Promethium and Joker toxin into the sprinkler system, Joker plans to use the remaining compound stored in the blimp to destroy Gotham by setting the blimp on a collision course with City Hall to release it all into the air. After a brief fight with the Joker, Batman knocks the villain out, deteriorates the gas, and disables the auto-pilot.Deciding to play one last, twisted joke on Batman once he realizes his plans have failed, Joker jumps from the blimp to entice Batman to save him and have a final showdown with the hero while plummeting down to Gotham.Batman manages to both defeat and save the Joker and destroys the blimp, finally taking his archenemy back to Arkham Asylum.\", \"Based on the DC Comics character Batman, the film is the second part of Nolan's Batman film series and a sequel to 2005's Batman Begins, starring Christian Bale, Michael Caine, Heath Ledger, Gary Oldman, Aaron Eckhart, Maggie Gylenhaal and Morgan Freeman.he Dark Knight was filmed primarily in Chicago, as well as in several other locations in the United States, the United Kingdom, and Hong Kong.Nolan used IMAX 70 mm film cameras to film some sequences, including the Joker's first appearance in the film.\"];\n      var aw4 = [\"After much research, Nolan's brother and co-writer, Jonathan, suggested the Joker's first two appearances, published in the first issue of Batman (1940), as the crucial influences.Christopher had Jonathan watch Fritz Lang's 1933 crime film The Testament of Dr. Mabuse prior to writing the Joker, with the Joker resembling Mabuse's characteristics.Christopher Nolan referred to Lang's film as \\\"essential research for anyone attempting to write a supervillain.\\\"Jerry Robinson, one of the Joker's co-creators, was consulted on the character's portrayal.Nolan decided to avoid divulging an in-depth origin story for the Joker, and instead portray his rise to power so as to not diminish the threat he poses, explaining to MTV News, \\\"the Joker we meet in The Dark Knight is fully formed...To me, the Joker is an absolute.There are no shades of gray to him – maybe shades of purple.He's unbelievably dark.He bursts in just as he did in the comics.\\\"Nolan reiterated to IGN, \\\"We never wanted to do an origin story for the Joker in this film,\\\" because \\\"the arc of the story is much more Harvey Dent's; the Joker is presented as an absolute.It's a very thrilling element in the film, and a very important element, but we wanted to deal with the rise of the Joker, not the origin of the Joker.\\\"Nolan suggested Batman: The Killing Joke influenced a section of the Joker's dialogue in the film, in which he says that anyone can become like him given the right circumstances.Nolan also cited Heat as \\\"sort of an inspiration\\\" for his aim \\\"to tell a very large, city story or the story of a city\\\": \\\"If you want to take on Gotham, you want to give Gotham a kind of weight and breadth and depth in there.So you wind up dealing with the political figures, the media figures.That\\'s part of the whole fabric of how a city is bound together.\\\"\", \" During the filming of Batman & Robin, Warner Bros. was impressed with the dailies, prompting them to immediately hire Joel Schumacher to reprise his directing duties for a third film.Writer Akiva Goldsman, who worked on Batman Forever and Batman & Robin, turned down the chance to write the script.In late 1996, Warner Bros. and Schumacher hired Mark Protosevich to write the script for a fifth Batman film.A projected mid-1999 release date was announced.Titled Batman Unchained but often incorrectly referred to as Batman Triumphant, Protosevich's script had the Scarecrow as the main villain and the Joker would return as a hallucination in Batman's mind caused by the Scarecrow's fear toxin.Harley Quinn appeared as a supporting character, written as the Joker's daughter trying to kill Batman to avenge her father's death.George Clooney, Chris O'Donnell and Alicia Silverstone were set to reprise the roles of Batman, Robin, and Batgirl.Schumacher had also approached Nicolas Cage for the role of Scarecrow.However, when Batman & Robin received negative reviews and failed to outgross any of its predecessors, Warner Bros. was unsure of their plans for Batman Unchained.The studio decided it was best to consider a live-action Batman Beyond film and an adaptation of Frank Miller's Batman: Year One.Warner Bros. would then greenlight whichever idea suited them the most.Schumacher felt he \\\"owe[d] the Batman culture a real Batman movie.I would go back to the basics and make a dark portrayal of the Dark Knight.\\\"He approached Warner Bros. to do Batman: Year One in mid-1998.\", \"Before the release of Batman Begins, screenwriter David S. Goyer wrote a treatment for two sequels which introduced the Joker and Harvey Dent.His original intent was for the Joker to scar Dent during the Joker\\'s trial in the third film, turning Dent into Two-Face.Goyer, who penned the first draft of the film, cited the DC Comics 13-issue comic book limited series Batman: The Long Halloween as the major influence on his storyline.According to veteran Batman artist Neal Adams, he met with David Goyer in Los Angeles, and the story would eventually look to Adams and writer Denny O\\'Neil\\'s 1971 story \\\"The Joker\\'s Five-Way Revenge\\\" that appeared in Batman #251, in which O\\'Neil and Adams re-introduced the Joker.While initially uncertain of whether or not he would return to direct the sequel, Nolan did want to reinterpret the Joker on screen.On July 31, 2006, Warner Bros. officially announced initiation of production for the sequel to Batman Begins titled The Dark Knight; it is the first live-action Batman film without the word \\\"Batman\\\" in its title, which Bale noted as signaling that \\\"this take on Batman of mine and Chris\\' is very different from any of the others.\\\"\"];\n      var aw5 = [\"In the weeks leading up to the film's release, advance ticket sales outpaced The Dark Knight Rises, The Avengers, and Furious 7.Worldwide, it was estimated to gross between $300–340 million in over 35,000 screens in its opening weekend.It passed the $50 million mark in IMAX ticket sales on its second weekend, grossing a total of $53.4 million from 571 IMAX screens.Warner Bros. domestic distribution chief Jeff Goldstein described the film's box office performance as a \\\"fantastic result, by any measure.\\\"Box office analyst Jeff Bock said \\\"Still, outside of Christopher Nolan's two Dark Knight movies, and Tim Burton's Batman films when you adjust for inflation, this is the highest-grossing property in DC's bullpen thus far.It tops Man of Steel by more than $200 million,\\\" and that \\\"overall, BvS successfully relaunched DC's cinematic universe, but they are nowhere near Disney/Marvel in terms of critical reception and box office prowess.One can only hope that bigger and better is still on the way.\\\"The film needed to reach $800 million in revenue at the box office to \\\"recoup its investment\\\" according to financial analysts.Despite surpassing this amount, it was considered \\\"a disappointment\\\" for failing to reach $1 billion, This resulted in Warner Bros., in May 2016, creating DC Films, giving a dedicated executive team responsibility for films based on DC Comics, similar to the dedicated Marvel Comics focus of Marvel Studios within the larger Walt Disney Studios group.Batman v Superman: Dawn of Justice grossed $330.4 million in North America and $542.9 million in other territories for a worldwide total of $873.3 million, making it the sixth highest-grossing film of 2016 behind Captain America: Civil War, Finding Dory, Zootopia, The Jungle Book, and The Secret Life of Pets.\", \"Sometime between the events of Batman: Arkham Origins and Batman: Arkham Asylum, street orphan Jason Todd was taken in by the crime-fighter Batman, and trained in all forms of combat as the second Robin after Dick Grayson’s departure.However, Jason was captured by the Joker, and a video was sent to the Dark Knight of Jason’s apparent death.But the Joker lied about killing Jason, and was revealed to have held him in an abandoned wing of Arkham Asylum for over a year, torturing him and breaking his sanity.After the Joker showed Jason a picture of Batman with Tim Drake as the third Robin, Jason snapped and found himself resenting his former mentor more than anything else.Succeeding in making Jason hate his nemesis, the Joker set him free, allowing Todd to start planning his revenge on Batman for leaving him.Jason utilized advanced technology to develop a high-tech militaristic battle-suit and equipment, forming his own army of personally trained soldiers in Venezuela.Todd soon adopted the identity of the “Arkham Knight”, a ruthless supervillain and militia leader.Years later, after the Joker's death in Batman: Arkham City, there was a power vacuum in Gotham City’s criminal underworld.When crime rates plummeted without the Clown Prince of Crime’s iron grip over the city’s criminals, the Arkham Knight appeared in Gotham, forging an alliance with the Scarecrow.Together, the two united all of Gotham’s masterminds, crime lords, thugs, thieves and gangsters in an attempt to rid themselves of the Dark Knight once and for all.Scarecrow forced Gotham’s inhabitants to evacuate with his newest strain of fear toxin, allowing the Arkham Knight’s militia to take complete control over the city.In the beginning of the game, the Arkham Knight and his militia provide an escort for Scarecrow at ACE Chemicals, preventing Batman and the police from foiling their plans of covering the entire eastern seaboard with fear gas.When Batman arrives, the Arkham Knight tries to kill him with his chopper, only to be stopped by the Scarecrow (who wanted the Dark Knight to suffer first).Eventually, Batman reduced the chain reaction in the central mixing chamber, stopping the fear gas from being released.The Arkham Knight then kidnaps Oracle from her clock tower and holds her hostage.When Batman tracks Oracle to a militia facility, the Arkham Knight corners and shoots Batman in the chest before leaving the scene.The villain later assists Scarecrow in escaping Simon Stagg's airship with the fear toxin dispersing machine, \\\"the Cloudburst\\”.The Arkham Knight then attaches the Cloudburst to his personal tank and battles Batman in the Batmobile, only for the hero to destroy the device.When Batman breaks into the militia's primary headquarters, the Arkham Knight confronts him in the excavator tunnels with a mining vehicle.Although the Arkham Knight destroys the Batmobile, Batman manages to escape.Jason eventually reveals himself to Batman as the hero attempts to save Commissioner Gordon.During the confrontation, Batman damages the Arkham Knight's visor, prompting Jason to discard it and reveal a red domed helmet underneath.After defeating Jason, Batman offers to help his former partner recover, but Jason states that it is too late to help him and vanishes.At the end of the game, Jason prevents Scarecrow from executing Batman after the latter is publicly exposed as Bruce Wayne.Jason later adopts the \\\"Red Hood\\\" persona, and becomes a murderous vigilante with extreme measures, such as the use of guns and lethal force.He wears the same red helmet that he had at the end of the game's main story, but now sports a white leather jacket and a Red Hood symbol painted on his chest.As Red Hood, he has a DLC storyline in which he hunts down and kills the crime lord Black Mask.\", \"After Christopher Nolan's successful 2005 Batman film reboot, Batman Begins, which ended with a teaser for the Joker's involvement in a sequel, the character appeared in 2008's The Dark Knight, played by Heath Ledger as an avatar of anarchy and chaos.While Batman Begins earned a worldwide total of $370 million; The Dark Knight earned over $1 billion and was the highest-grossing film of the year, setting several box-office records (including highest-grossing midnight opening, opening day and opening weekend).Ledger won a posthumous Academy Award for Best Supporting Actor for his performance, the first acting Oscar ever won for a superhero film.The Joker has featured in a number of animated projects, such as 2009's Batman: The Brave and the Bold (voiced by Jeff Bennett) and 2011's Young Justice (voiced by Brent Spiner), and comic book adaptations (including 2010's Batman: Under the Red Hood, in which he is voiced by John DiMaggio).In 2012, Michael Emerson voiced the character in a two-part animated adaptation of The Dark Knight Returns.The Joker appears in the 2016 film Suicide Squad, portrayed by Jared Leto.\"];\n      var ids1 = [\"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\", \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\", \"CAR_95b61a74f932382ddc6188742260759743d24404\"];\n      var ids2 = [\"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\", \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\", \"MARCO_5432834\"];\n      var ids3 = [\"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\", \"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\", \"MARCO_6230393\"];\n      var ids4 = [\"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\", \"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\", \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\"];\n      var ids5 = [\"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\", \"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\", \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\"];\n      var nodes1 = {\n        \"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\": [\"batman\", \"nolan\", \"movies\", \"films\"],\n        \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"batman\", \"batmans\", \"nolan\", \"movies\", \"films\"],\n        \"CAR_95b61a74f932382ddc6188742260759743d24404\": [\"batman\", \"nolan\", \"movies\"]\n      };\n      var nodes2 = {\n        \"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\": [\"caine\", \"batman\", \"nolan\", \"films\"],\n        \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"batman\", \"batmans\", \"nolan\", \"movies\", \"films\"],\n        \"MARCO_5432834\": [\"caine\", \"batman\", \"nolan\", \"movies\"]\n      };\n      var nodes3 = {\n        \"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\": [\" joker\", \"batman\", \"nolan\"],\n        \"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\": [\" joker\", \"batman\"],\n        \"MARCO_6230393\": [\"joker\", \"batman\", \"nolan\"]\n      };\n      var nodes4 = {\n        \"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\": [\"batman\", \"nolan\"],\n        \"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\": [\" batman\", \"role\", \"movie\", \"roles\"],\n        \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\": [\"batman\", \"nolan\"]\n      };\n      var nodes5 = {\n        \"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\": [\"office\", \"batman\", \"reception\", \"box\", \"nolan\"],\n        \"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\": [\"batman\"],\n        \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\": [\"office\", \"box\", \"batman\", \"nolan\"]\n      };\n      var edges1 = {\n        \"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\": [\"(batman, nolan)\"],\n        \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"(batman, nolan)\"],\n        \"CAR_95b61a74f932382ddc6188742260759743d24404\": [\"(batman, nolan)\"]\n      };\n      var edges2 = {\n        \"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\": [\"(caine, nolan)\", \"(batman, films)\", \"(films, nolan)\"],\n        \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"(batman, nolan)\"],\n        \"MARCO_5432834\": [\"(batman, caine)\", \"(batman, movies)\"]\n      };\n      var edges3 = {\n        \"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\": [\"(batman, nolan)\"],\n        \"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\": [\"(batman, joker)\"],\n        \"MARCO_6230393\": [\" (batman, nolan)\"]\n      };\n      var edges4 = {\n        \"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\": [\"(batman, nolan)\"],\n        \"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\": [\"(batman, movie)\", \"(batman, roles)\"],\n        \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\": [\"\"]\n      };\n      var edges5 = {\n        \"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\": [\"(box, office)\", \"(batman, films)\", \"(batman, movies)\", \"(movies, nolan)\", \"(office, reception)\"],\n        \"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\": [\"\"],\n        \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\": [\"(batman, nolan)\", \"(box, office)\"]\n      };\n      var topsentences1 = [[5, 6, 4], [1, 16, 4], [1, 2, 4]];\n      var topsentences2 = [[11, 1, 3], [12, 5, 2], [6, 4, 1]];\n      var topsentences3 = [[2], [4, 5, 8], [1]];\n      var topsentences4 = [[2, 4, 3], [1, 14, 6], [1]];\n      var topsentences5 = [[4, 12, 15], [1, 14, 6], [1, 4]];\n      this.setState({\n        questions: quest,\n        answers: [aw1, aw2, aw3, aw4, aw5],\n        answerids: [ids1, ids2, ids3, ids4, ids5],\n        nodes: [nodes1, nodes2, nodes3, nodes4, nodes5],\n        edges: [edges1, edges2, edges3, edges4, edges5],\n        turn: 4,\n        topsentences: [topsentences1, topsentences2, topsentences3, topsentences4, topsentences5]\n      });\n    };\n\n    this.initialState = {\n      questions: [],\n      answers: [],\n      answerids: [],\n      nodes: [],\n      edges: [],\n      topsentences: [],\n      turn: -1,\n      retNbr: 3,\n      indriRetNbr: 100,\n      nodeThreshold: 0.75,\n      edgeThreshold: 0.0,\n      convquery: \"conv_uw\",\n      h1: 0.5,\n      h2: 0.3,\n      h3: 0.1,\n      h4: 0.1,\n      err: \"\",\n      api_err: \"\"\n    };\n    this.state = this.initialState;\n  }\n\n  render() {\n    var errorStyle = {\n      color: \"#FF0000\",\n      \"margiBottom\": \"70px\"\n    };\n    var widthstyle = {\n      width: \"80%\"\n    };\n    var margin = {\n      \"marginBottom\": \"30px\"\n    };\n    console.log(\"answerids#################: \" + this.state.answerids);\n    return React.createElement(\"div\", {\n      className: \"full-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      style: margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"CROWN: Conversational Passage Ranking by Reasoning over Word Networks\"), React.createElement(\"div\", {\n      className: \"flex-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      align: \"justify\",\n      style: widthstyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.state.err && React.createElement(\"div\", {\n      className: \"error-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      align: \"center\",\n      style: errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, this.state.err)), this.state.api_err && React.createElement(\"div\", {\n      className: \"error-message2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \" \", React.createElement(\"h2\", {\n      align: \"center\",\n      style: errorStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"  500 Internal Server Error\")), React.createElement(Form, {\n      handleSubmit: this.handleSubmit,\n      onSubmit: this.handleSubmit,\n      handleClearConv: this.handleClearConv,\n      handleClearLastTurn: this.handleClearLastTurn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), \"  \", React.createElement(LoadingIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), \" \", React.createElement(TableBody, {\n      questions: this.state.questions,\n      answers: this.state.answers,\n      answerids: this.state.answerids,\n      nodes: this.state.nodes,\n      edges: this.state.edges,\n      turn: this.state.turn,\n      topsentences: this.state.topsentences,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"flex-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      style: widthstyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(SampleQuestion, {\n      showSampleAnswers: this.showSampleAnswers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), \" \", React.createElement(Options, {\n      onChange: this.handleOptionChange,\n      value: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst SampleQuestion = props => {\n  var marginbutton = {\n    \"marginLeft\": \"80%\"\n  };\n  const showSampleAnswers = props.showSampleAnswers;\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'sampleconv_head',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, \"Sample Conversation on Flowering Plants for Cold Climates\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    className: \"no-bottom-border\",\n    key: 'turn1',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, \"Turn 1: \"), \" when did nolan make his batman movies\\\" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, \"Turn 2: \"), \" who was Caine \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, \"Turn 3: \"), \" and what about the joker\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, \"Turn 4: \"), \" ole of jokers darkness\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, \"Turn 5: \"), \"reception at the box office\")), React.createElement(\"tr\", {\n    key: 'buttonrow',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button\",\n    onClick: showSampleAnswers,\n    style: marginbutton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Answer\")))));\n};\n\nconst Description = () => {\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'description',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, \"Description\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: 'desc',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, \"CROWN is an unsupervised approach for conversational passage ranking. Answers are retrieved from MS MARCO and TREC CAR datasets. We formulated the objective of maximizing the passage score for a query as a combination of similarity and coherence. Passages are preferred that contain words semantically similar to the words used in the question. Coherence is expressed using term proximity. We built a word-proximity network from the corpus, where words are nodes and there is an edge between two nodes if they co-occur in the same passage in a statistically significant way, within a context window. We use NPMI (normalized pointwise mutual information) as a measure of this word association significance.\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"Our code and further technical information are available \", React.createElement(\"a\", {\n    href: \"https://github.com/magkai/CROWN\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"here\"), \".\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, \"For feedback and clarifications, please contact:\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"http://people.mpi-inf.mpg.de/~mkaiser/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, \"Magdalena Kaiser\"), \" (mkaiser AT mpi HYPHEN inf DOT mpg DOT de)\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"http://people.mpi-inf.mpg.de/~rsaharo/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }, \"Rishiraj Saha Roy\"), \" (rishiraj AT mpi HYPHEN inf DOT mpg DOT de)\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"http://people.mpi-inf.mpg.de/~weikum/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, \"Gerhard Weikum\"), \" (weikum AT mpi HYPHEN inf DOT mpg DOT de)\"))))));\n};\n\nconst LoadingIndicator = props => {\n  const _usePromiseTracker = usePromiseTracker(),\n        promiseInProgress = _usePromiseTracker.promiseInProgress;\n\n  return promiseInProgress && React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"100\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    type: \"ThreeDots\",\n    color: \"#568ceb\",\n    height: 100,\n    width: 100,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }));\n};\n\nconst TableBody = props => {\n  const questions = props.questions,\n        answers = props.answers,\n        answerids = props.answerids,\n        nodes = props.nodes,\n        edges = props.edges,\n        turn = props.turn,\n        topsentences = props.topsentences;\n\n  if (answers !== undefined && answers !== null && answers[0] !== undefined && answers[0][0] !== undefined) {\n    console.log(\"curr answers: \" + answers[0][0][0]);\n  }\n\n  var tablelayout = {\n    border: \"0\"\n  };\n  return React.createElement(\"table\", {\n    style: tablelayout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }, [...questions].reverse().map((question, index) => {\n    return React.createElement(\"tr\", {\n      className: \"noBorder\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(InnerTable, {\n      question: question,\n      answers: [...answers].reverse()[index],\n      answerids: [...answerids].reverse()[index],\n      nodes: [...nodes].reverse()[index],\n      edges: [...edges].reverse()[index],\n      nbr: index,\n      turn: turn,\n      topsentences: [...topsentences].reverse()[index],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })));\n  })));\n};\n\nconst InnerTable = props => {\n  const question = props.question,\n        answers = props.answers,\n        answerids = props.answerids,\n        nodes = props.nodes,\n        edges = props.edges,\n        nbr = props.nbr,\n        turn = props.turn,\n        topsentences = props.topsentences;\n  const rows = answers.map((answer, index) => {\n    console.log(\"top sent:\" + topsentences);\n    console.log(\"curr top sent: \" + topsentences[answerids[index]]);\n    var newanswer = \"\"; //show important nodes and edges in bold in final answer\n\n    for (var n = 0; n < answer.length; n++) {\n      if (!answer[n].toString().includes('<b>') && !answer[n].toString().includes('</b>')) {\n        for (var i = 0; i < nodes[answerids[index]].length; i++) {\n          var find = nodes[answerids[index]][i];\n          var pattern = \"(\\\\s|\\\\b)(\".concat(find, \")(\\\\s|\\\\b)\");\n          var regexp = new RegExp(pattern, 'ig'); // ignore case (optional) and match all\n\n          var replaceMask = \"$1<b>$2</b>$3\";\n          answer[n] = answer[n].replace(regexp, replaceMask);\n        }\n\n        for (var j = 0; j < edges[answerids[index]].length; j++) {\n          var edge = edges[answerids[index]][j].replace(\"(\", \"\");\n          edge = edge.replace(\")\", \"\");\n          var find1 = edge.split(\",\")[0];\n          var find2 = edge.split(\",\")[1];\n          var pattern1 = \"(\\\\s|\\\\b)(\".concat(find1, \")(\\\\s|\\\\b)\");\n          var regexp1 = new RegExp(pattern1, 'ig'); // ignore case (optional) and match all\n\n          var pattern2 = \"(\\\\s|\\\\b)(\".concat(find2, \")(\\\\s|\\\\b)\");\n          var regexp2 = new RegExp(pattern2, 'ig');\n          var replaceMask2 = \"$1<b>$2</b>$3\";\n          answer[n] = answer[n].replace(regexp1, replaceMask2);\n          answer[n] = answer[n].replace(regexp2, replaceMask2);\n        }\n      }\n\n      if (!answer[n].toString().includes('<mark>')) {\n        //highlight top sentences in passag\n        for (var t = 0; t < topsentences[answerids[index]].length; t++) {\n          if (n + 1 === parseInt(topsentences[answerids[index]][t])) {\n            answer[n] = '<mark>' + answer[n].toString() + '</mark>';\n            break;\n          }\n        }\n      }\n\n      newanswer += answer[n];\n    }\n\n    console.log(\"answer: \" + answer);\n    return React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"row_table\".concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, \"Rank \", index + 1, \": \"), \" \", ReactHtmlParser(newanswer), \"  [\", answerids[index], \"]\")), React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"nodes\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, \"Top Nodes: \"), nodes[answerids[index]].toString().replace(/,/g, ', '))), React.createElement(\"tr\", {\n      className: \"no-bottom-border\",\n      key: \"edges\".concat(nbr.toString()).concat(\"_\").concat(index.toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, \"Top Edges:\"), \" \", edges[answerids[index]].toString().replace(/,/g, ', ')))))));\n  });\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    key: question,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, \"Results for Turn \", turn - nbr + 1, \": \", question))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, rows));\n};\n\nconst Footer = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435\n    },\n    __self: this\n  }, React.createElement(\"footer\", {\n    className: \"footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"full-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439\n    },\n    __self: this\n  }, \"\\xA9 \", React.createElement(\"a\", {\n    href: \"https://www.mpi-inf.mpg.de/departments/databases-and-information-systems/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441\n    },\n    __self: this\n  }, \"Database & Information Systems Group\"), \", \", React.createElement(\"a\", {\n    href: \"http://www.mpi-inf.mpg.de/home/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442\n    },\n    __self: this\n  }, \"Max Planck Institute for Informatics\"), \". 2019.\", \" | \", React.createElement(\"a\", {\n    href: \"https://imprint.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }, \"Impressum\"), \" | \", React.createElement(\"a\", {\n    href: \"https://data-protection.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445\n    },\n    __self: this\n  }, \"Datenschutz\"), React.createElement(\"img\", {\n    src: \"Logo_MPII.png\",\n    className: \".responsive-image\",\n    width: \"200\",\n    height: \"50\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/local/home/mkaiser/Documents/TREC_CAsT/demo/treccast-app/src/App.js"],"names":["React","Component","Form","Options","Loader","usePromiseTracker","trackPromise","ReactHtmlParser","App","constructor","props","handleOptionChange","optionId","value","setState","validateState","errMessage","state","retNbr","indriRetNbr","nodeThreshold","edgeThreshold","score","parseFloat","h1","h2","h3","h4","scoreVariance","Math","abs","err","handleSubmit","question","api_err","console","log","fetch","headers","credentials","method","body","JSON","stringify","questions","convquery","then","response","ok","json","data","answers","answerids","nodes","edges","turn","topsentences","catch","error","handleClearConv","handleClearLastTurn","slice","length","showSampleAnswers","quest","aw1","aw2","aw3","aw4","aw5","ids1","ids2","ids3","ids4","ids5","nodes1","nodes2","nodes3","nodes4","nodes5","edges1","edges2","edges3","edges4","edges5","topsentences1","topsentences2","topsentences3","topsentences4","topsentences5","initialState","render","errorStyle","color","widthstyle","width","margin","SampleQuestion","marginbutton","Description","LoadingIndicator","promiseInProgress","height","display","justifyContent","alignItems","TableBody","undefined","tablelayout","border","reverse","map","index","InnerTable","nbr","rows","answer","newanswer","n","toString","includes","i","find","pattern","regexp","RegExp","replaceMask","replace","j","edge","find1","split","find2","pattern1","regexp1","pattern2","regexp2","replaceMask2","t","parseInt","concat","Footer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport Form from './Form'\nimport Options from './Options'\nimport './index.css'\nimport Loader from 'react-loader-spinner';\nimport { usePromiseTracker, trackPromise } from \"react-promise-tracker\";\nimport ReactHtmlParser from 'react-html-parser';\n\n//current blue button color: #0366EE\n\nclass App extends Component {\n  \n constructor(props) {\n    super(props);\n\n    this.initialState = {\n        questions:  [],\n        answers: [],\n        answerids: [],\n        nodes: [],\n        edges:[],\n        topsentences: [],\n        turn: -1,\n        retNbr: 3,\n        indriRetNbr: 100,\n        nodeThreshold: 0.75,\n        edgeThreshold: 0.0,\n        convquery: \"conv_uw\",\n        h1: 0.5,\n        h2: 0.3,\n        h3: 0.1,\n        h4: 0.1,\n        err: \"\",\n        api_err: \"\"\n                \n    };\n\n    this.state = this.initialState;\n  }\n  \n    handleOptionChange = (optionId, value) => {\n        this.setState({ [optionId]: value });\n    }\n    \n    validateState = () => {\n        \n        var errMessage = \"\";\n        if(this.state.retNbr < 1 || this.state.retNbr > 20) {\n           errMessage = errMessage +\" The number of returned results must lie between 1 and 20!\";\n        }\n        if(this.state.indriRetNbr < 10 || this.state.indriRetNbr > 1000) {\n            errMessage = errMessage +\" The number of returned Indri passages must lie between 10 and 1000!\";\n        }\n        if(this.state.nodeThreshold < 0.5 || this.state.nodeThreshold > 1.0) {\n            errMessage = errMessage +\" The node threshold must lie between 0.5 and 1.0!\";\n        }\n        if(this.state.edgeThreshold < 0 || this.state.edgeThreshold > 0.1) {\n            errMessage = errMessage +\" The edge threshold must lie between 0.0 and 0.1!\";\n        }\n        \n        var score = parseFloat(this.state.h1) + parseFloat(this.state.h2) + parseFloat(this.state.h3) + parseFloat(this.state.h4)\n        \n        var scoreVariance = 0.0001\n        \n        if(Math.abs(1.0 - score) > scoreVariance ) {\n            errMessage = errMessage +\" The hyperparameters must sum up to 1.0!\";\n        }\n        \n        this.setState({err: errMessage});\n        return errMessage;\n    }\n\n    \n    handleSubmit = question => { \n        this.setState({err: \"\", api_err: \"\"});\n        var errMessage = this.validateState();\n        if(errMessage !== \"\") {  \n            console.log(\"Abort because of wrong parameters\")\n            return;\n        }\n        \n        if (question !== null && question !== \"\") {\n            trackPromise(      \n                //fetch(\"http://139.19.6.31:5000/getanswer\", {\n                fetch(\"http://139.19.51.11:9999/getanswer\", {\n                //fetch(\"http://crown.mpi-inf.mpg.de:5000/getanswer\", {\n                // fetch(\"http://139.19.52.26:5000/getanswer\", {\n                     headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json', credentials: 'same-origin'},\n\n                method: 'post', body: JSON.stringify({\"questions\" : [...this.state.questions,question], \n                                                        \"retNbr\": this.state.retNbr, \"indriRetNbr\": this.state.indriRetNbr, \n                                                     \"nodeThreshold\": this.state.nodeThreshold, \"edgeThreshold\": this.state.edgeThreshold,\n                                                  \"convquery\": this.state.convquery, \"h1\": this.state.h1,\n                                                    \"h2\": this.state.h2, \"h3\": this.state.h3, \"h4\": this.state.h4})\n                  }).then(response => {\n                    if (response.ok) {\n                      return response.json();\n                    } else {\n                        console.log(\"ERROR when calling REST Api, response was:\" + response);                   \n                    }\n                  })\n                  .then(data =>this.setState({questions: [...this.state.questions, question],\n                       answers:  [...this.state.answers,data[\"paragraphs\"]], answerids:  [...this.state.answerids,data[\"ids\"]], \n                       nodes: [...this.state.nodes, data[\"nodes\"]], edges: [...this.state.edges, data[\"edges\"]], turn: this.state.turn+1, topsentences:  [...this.state.topsentences,data[\"top_sentences\"]] }\n\n                  ))\n                 \n                  .catch(error => this.setState({api_err: error }, () => {\n                      console.log(\"ERROR when calling REST Api: \" + error);\n                     \n                })));\n        }\n\n    }\n \n    \n    handleClearConv = () => {    \n        this.setState({questions:  [],answers: [], answerids: [], nodes: [], edges: [], turn: -1, topsentences: []})\n        \n    }\n    \n    handleClearLastTurn = () => {  \n        if(this.state.turn >= 0) {//since we start at -1\n            this.setState({questions:  this.state.questions.slice(0, this.state.questions.length-1) , answers: this.state.answers.slice(0, this.state.answers.length-1), answerids: this.state.answerids.slice(0, this.state.answerids.length-1), nodes: this.state.nodes.slice(0, this.state.nodes.length-1), edges: this.state.edges.slice(0, this.state.edges.length-1), turn: this.state.turn-1, topsentences: this.state.topsentences.slice(0, this.state.questions.length-1)})\n        }\n    }\n    \n   \n    showSampleAnswers = () => {\n        var quest = [\"when did nolan make his batman movies\", \"who was Caine\", \"and what about the joker\", \"role of jokers darkness\", \"reception at the box office\"  ]\n        var aw1 = [\"Nolan wanted the story for the third and final installment to keep him emotionally invested. \\\"On a more superficial level, I have to ask the question,\\\" he reasoned, \\\"how many good third movies in a franchise can people name?\\\"He returned out of finding a necessary way to continue the story, but feared midway through filming he would find a sequel redundant.The Dark Knight Rises is intended to complete Nolan's Batman trilogy.By December 2008, Nolan completed a rough story outline, before he committed himself to Inception.In February 2010, work on the screenplay was commencing with David S. Goyer and Jonathan Nolan.When Goyer left to work on the Superman reboot, Jonathan was writing the script based on the story by his brother and Goyer.Tom Hardy was cast as Bane and Anne Hathaway plays Selina Kyle.Joseph Gordon-Levitt was cast as John Blake, and Marion Cotillard was cast as Miranda Tate.Filming began in May 2011 and concluded in November.Nolan chose not to film in 3-D but, by focusing on improving image quality and scale using the IMAX format, hoped to push technological boundaries while nevertheless making the style of the film consistent with the previous two.Nolan had several meetings with IMAX Vice-President David Keighley to work on the logistics of projecting films in digital IMAX venues.The Dark Knight Rises featured more scenes shot in IMAX than The Dark Knight.Cinematographer Wally Pfister expressed interest in shooting the film entirely in IMAX.During the film, set eight years after Dark Knight, the arrival of new foe Bane forces Bruce to return to his old role as Batman, only to find himself overpowered and captured by Bane as Gotham is cut off from the rest of the world with a stolen Wayne Enterprises fusion generator prototype set to go off in a few months.With the aid of thief Selina Kyle, Bruce is able to return to Gotham and defeat Bane while redeeming his image as Batman.The film concludes with Bruce having 'retired' as Batman after faking his death to live with Selina Kyle, evidence suggesting that he has passed on the Batcave to new ally Detective John Blake (real first name Robin) while Gotham rebuilds in memory of the Dark Knight's heroism.\",\n            \"With production delays continuing, and the success of The Dark Knight in July 2008, Warner Bros. decided to focus on development of individual films featuring the main heroes, allowing director Christopher Nolan to separately complete his Batman trilogy with The Dark Knight Rises in 2012.Gregory Noveck, senior vice president of creative affairs for DC Entertainment stated \\\"we’re going to make a Justice League movie, whether it's now or 10 years from now.But we’re not going to do it and Warners is not going to do it until we know it's right.\\\"Actor Adam Brody joked \\\"They [Warner Brothers] just didn’t want to cross their streams with a whole bunch of Batmans in the universe.\\\"Warner Bros. relaunched development for the solo Green Lantern film, released in 2011 as a critical and financial disappointment.Meanwhile, film adaptations for the The Flash and Wonder Woman continued to languish in development while filming for a Superman reboot was commencing in 2011 with Man of Steel, produced by Nolan and written by Batman screenwriter David S. Goyer.Shortly after filming had finished for Man of Steel, Warner Bros hired Will Beall to script a new Justice League film.Warner Bros. president Jeff Robinov explained that Man of Steel would be \\\"setting the tone for what the movies are going to be like going forward.In that, it's definitely a first step.\\\"The film included references to the existence of other superheroes in the DC Universe, and setting the tone for a shared fictional universe of DC Comics characters on film.Goyer stated should Green Lantern appear in a future installment, that it would be a rebooted version of the character and not connected to the 2011 film.With the release of Man of Steel in June 2013, Goyer was hired to write a sequel, as well as a new Justice League, with the Beall draft being scrapped.The sequel was later revealed to be Batman v Superman: Dawn of Justice, a team up film featuring Ben Affleck as Batman, Gal Gadot as Wonder Woman, and Ray Fisher as Victor Stone / Cyborg in a minor role that will become more significant in leading up to the proposed Justice League film.The universe is separate from Nolan and Goyer's work on The Dark Knight trilogy, although Nolan is still involved as an executive producer for Batman v Superman.In April 2014, it was announced that Zack Snyder would also be directing Goyer's Justice League script.Warner Bros. was reportedly courting Chris Terrio to rewrite Justice League the following July, after having been impressed with his rewrite of Batman v Superman: Dawn of Justice.On October 15, 2014, Warner Bros. announced the film would be released in two parts, with Part One releasing on November 17, 2017, and Part Two on June 14, 2019.Snyder will direct both films.In early July 2015, EW revealed that the script for Justice League Part One had been completed by Terrio.Zack Snyder stated that the film will be inspired by the New Gods comic series by Jack Kirby.Although Justice League was initially announced as a two-part film with the second part releasing two years after the first, Snyder announced in June 2016 that they would be two distinct, separate films and not one film split into two parts, both being stand-alone stories.\",\n            \"Film director Tim Burton—who had directed the 1989 Batman film—felt Nolan \\\"captured the real spirit that these kind of movies are supposed to have nowadays.When I did Batman twenty years ago, in 1988 or something, it was a different time in comic book movies.You couldn't go into that dark side of comics yet.The last couple of years that has become acceptable and Nolan certainly got more to the root of what the Batman comics are about.\\\"\"]\n        var aw2 = [\"Christian Bale, Michael Caine and Cillian Murphy have been frequent collaborators since Batman Begins.Caine is Nolan's most prolific collaborator, having appeared in six of his films, and is regarded by Nolan to be his \\\"good luck charm\\\".In return, Caine has described Nolan as \\\"one of cinema's greatest directors\\\", comparing him favorably with the likes of David Lean, John Huston and Joseph L. Mankiewicz.Nolan is also known for casting stars from the 1980s in his films, i.e. Rutger Hauer (Batman Begins), Eric Roberts (The Dark Knight), Tom Berenger (Inception), and Matthew Modine (The Dark Knight Rises).Modine said of working with Nolan: \\\"There are no chairs on a Nolan set, he gets out of his car and goes to the set.And he stands up until lunchtime.And then he stands up until they say \\'Wrap\\'.He\\'s fully engaged – in every aspect of the film.\\\"\",\n            \"With production delays continuing, and the success of The Dark Knight in July 2008, Warner Bros. decided to focus on development of individual films featuring the main heroes, allowing director Christopher Nolan to separately complete his Batman trilogy with The Dark Knight Rises in 2012.Gregory Noveck, senior vice president of creative affairs for DC Entertainment stated \\\"we’re going to make a Justice League movie, whether it's now or 10 years from now.But we’re not going to do it and Warners is not going to do it until we know it's right.\\\"Actor Adam Brody joked \\\"They [Warner Brothers] just didn’t want to cross their streams with a whole bunch of Batmans in the universe.\\\"Warner Bros. relaunched development for the solo Green Lantern film, released in 2011 as a critical and financial disappointment.Meanwhile, film adaptations for the The Flash and Wonder Woman continued to languish in development while filming for a Superman reboot was commencing in 2011 with Man of Steel, produced by Nolan and written by Batman screenwriter David S. Goyer.Shortly after filming had finished for Man of Steel, Warner Bros hired Will Beall to script a new Justice League film.Warner Bros. president Jeff Robinov explained that Man of Steel would be \\\"setting the tone for what the movies are going to be like going forward.In that, it's definitely a first step.\\\"The film included references to the existence of other superheroes in the DC Universe, and setting the tone for a shared fictional universe of DC Comics characters on film.Goyer stated should Green Lantern appear in a future installment, that it would be a rebooted version of the character and not connected to the 2011 film.With the release of Man of Steel in June 2013, Goyer was hired to write a sequel, as well as a new Justice League, with the Beall draft being scrapped.The sequel was later revealed to be Batman v Superman: Dawn of Justice, a team up film featuring Ben Affleck as Batman, Gal Gadot as Wonder Woman, and Ray Fisher as Victor Stone / Cyborg in a minor role that will become more significant in leading up to the proposed Justice League film.The universe is separate from Nolan and Goyer's work on The Dark Knight trilogy, although Nolan is still involved as an executive producer for Batman v Superman.In April 2014, it was announced that Zack Snyder would also be directing Goyer's Justice League script.Warner Bros. was reportedly courting Chris Terrio to rewrite Justice League the following July, after having been impressed with his rewrite of Batman v Superman: Dawn of Justice.On October 15, 2014, Warner Bros. announced the film would be released in two parts, with Part One releasing on November 17, 2017, and Part Two on June 14, 2019.Snyder will direct both films.In early July 2015, EW revealed that the script for Justice League Part One had been completed by Terrio.Zack Snyder stated that the film will be inspired by the New Gods comic series by Jack Kirby.Although Justice League was initially announced as a two-part film with the second part releasing two years after the first, Snyder announced in June 2016 that they would be two distinct, separate films and not one film split into two parts, both being stand-alone stories.\",\n            \"However, Nolan absolutely deserves credit for delivering the best Batman movies that anyone has made to date.The Dark Knight Trilogy was impeccably well cast, starting with Christian Bale as Bruce Wayne/Batman; along with Michael Caine as Alfred, Gary Oldman as Jim Gordon, and Morgan Freeman as Lucius Fox.\"]\n        var aw3 = [\"The Dark Knight is a 2008 superhero thriller film directed, produced, and co-written by Christopher Nolan.Featuring the DC Comics character Batman, the film is the second part of Nolan's The Dark Knight Trilogy and a sequel to 2005's Batman Begins, starring an ensemble cast including Christian Bale, Michael Caine, Heath Ledger, Gary Oldman, Aaron Eckhart, Maggie Gyllenhaal and Morgan Freeman.In the film, Bruce Wayne/Batman (Bale), James Gordon (Oldman) and Harvey Dent (Eckhart) form an alliance to dismantle organised crime in Gotham City, but are menaced by a criminal mastermind known as the Joker (Ledger) who seeks to undermine Batman's influence and create chaos.\",\n            \"Now hunted by the police, Batman must discover who is behind the frame up and how everything that has occurred since Joker's disappearance factor in together.He ultimately heads back to Funnibones Warehouse disguised for more information, only to discover the knife that the Joker was holding the night he fell from the bridge; the Joker is not dead after all.Joker reveals that he was behind the entire crime wave that occurred after faking his death by subtly manipulating the other villains and using Isaac Evers' research, having worked with the scientist and funded all his experiments and operations through his ill conceived fortune, to produce large quantities of the highly flammable Promethium.Weeks earlier, Joker had arranged the fake kidnapping scheme to fake his own death in order to reside in the shadows and out of the police and Batman's scope while he manipulated the other villains; he sent Mr. Freeze the promotional tape on Promethium to provoke him into attacking Isaac's lair so his men could convince Evers to hire their services in an insurance scam with the use of Gotham Gasworks, provided Poison Ivy with the plant enhancement chemical and used her schemes to rebuild Gotham Chemical to mass-produce his own signature Joker toxin in a quiet fashion without Batman suspecting his true plans, and finally used Harley to relay false information to Batman to send him deeper into his plot at the Gasworks and ultimately frame him for attacking Commissioner Gordon.Using Evers as a scapegoat for the Gasworks scheme, Joker reveals that he used Batman to open up the pipes to the sprinkler system, which Joker then plans to use to pump in his Joker toxin, mixed with Evers' drug, all over the city through a feed tube connected to the previously stolen blimp, now filled with the deadly compound, and burn the city to the ground while its citizen choke to death on their own laughter.The motive of the entire scheme is that Gotham would be completely destroyed with the punchline being that Batman had been unknowingly aiding in the scheme due to Joker's manipulation.Joker then prepares to escape in the blimp and watch Gotham from above become engulf in flames and toxin, leaving groups of his men, armed with explosives and flamethrowers, to slow the hero down.Despite this, Batman manages to shut down the gas flow and defeat all of Joker's thugs in time to get on the Joker's blimp.Despite having stopped the flow of Promethium and Joker toxin into the sprinkler system, Joker plans to use the remaining compound stored in the blimp to destroy Gotham by setting the blimp on a collision course with City Hall to release it all into the air. After a brief fight with the Joker, Batman knocks the villain out, deteriorates the gas, and disables the auto-pilot.Deciding to play one last, twisted joke on Batman once he realizes his plans have failed, Joker jumps from the blimp to entice Batman to save him and have a final showdown with the hero while plummeting down to Gotham.Batman manages to both defeat and save the Joker and destroys the blimp, finally taking his archenemy back to Arkham Asylum.\",\n            \"Based on the DC Comics character Batman, the film is the second part of Nolan's Batman film series and a sequel to 2005's Batman Begins, starring Christian Bale, Michael Caine, Heath Ledger, Gary Oldman, Aaron Eckhart, Maggie Gylenhaal and Morgan Freeman.he Dark Knight was filmed primarily in Chicago, as well as in several other locations in the United States, the United Kingdom, and Hong Kong.Nolan used IMAX 70 mm film cameras to film some sequences, including the Joker's first appearance in the film.\"]\n        var aw4 = [\"After much research, Nolan's brother and co-writer, Jonathan, suggested the Joker's first two appearances, published in the first issue of Batman (1940), as the crucial influences.Christopher had Jonathan watch Fritz Lang's 1933 crime film The Testament of Dr. Mabuse prior to writing the Joker, with the Joker resembling Mabuse's characteristics.Christopher Nolan referred to Lang's film as \\\"essential research for anyone attempting to write a supervillain.\\\"Jerry Robinson, one of the Joker's co-creators, was consulted on the character's portrayal.Nolan decided to avoid divulging an in-depth origin story for the Joker, and instead portray his rise to power so as to not diminish the threat he poses, explaining to MTV News, \\\"the Joker we meet in The Dark Knight is fully formed...To me, the Joker is an absolute.There are no shades of gray to him – maybe shades of purple.He's unbelievably dark.He bursts in just as he did in the comics.\\\"Nolan reiterated to IGN, \\\"We never wanted to do an origin story for the Joker in this film,\\\" because \\\"the arc of the story is much more Harvey Dent's; the Joker is presented as an absolute.It's a very thrilling element in the film, and a very important element, but we wanted to deal with the rise of the Joker, not the origin of the Joker.\\\"Nolan suggested Batman: The Killing Joke influenced a section of the Joker's dialogue in the film, in which he says that anyone can become like him given the right circumstances.Nolan also cited Heat as \\\"sort of an inspiration\\\" for his aim \\\"to tell a very large, city story or the story of a city\\\": \\\"If you want to take on Gotham, you want to give Gotham a kind of weight and breadth and depth in there.So you wind up dealing with the political figures, the media figures.That\\'s part of the whole fabric of how a city is bound together.\\\"\",\n            \" During the filming of Batman & Robin, Warner Bros. was impressed with the dailies, prompting them to immediately hire Joel Schumacher to reprise his directing duties for a third film.Writer Akiva Goldsman, who worked on Batman Forever and Batman & Robin, turned down the chance to write the script.In late 1996, Warner Bros. and Schumacher hired Mark Protosevich to write the script for a fifth Batman film.A projected mid-1999 release date was announced.Titled Batman Unchained but often incorrectly referred to as Batman Triumphant, Protosevich's script had the Scarecrow as the main villain and the Joker would return as a hallucination in Batman's mind caused by the Scarecrow's fear toxin.Harley Quinn appeared as a supporting character, written as the Joker's daughter trying to kill Batman to avenge her father's death.George Clooney, Chris O'Donnell and Alicia Silverstone were set to reprise the roles of Batman, Robin, and Batgirl.Schumacher had also approached Nicolas Cage for the role of Scarecrow.However, when Batman & Robin received negative reviews and failed to outgross any of its predecessors, Warner Bros. was unsure of their plans for Batman Unchained.The studio decided it was best to consider a live-action Batman Beyond film and an adaptation of Frank Miller's Batman: Year One.Warner Bros. would then greenlight whichever idea suited them the most.Schumacher felt he \\\"owe[d] the Batman culture a real Batman movie.I would go back to the basics and make a dark portrayal of the Dark Knight.\\\"He approached Warner Bros. to do Batman: Year One in mid-1998.\",\n            \"Before the release of Batman Begins, screenwriter David S. Goyer wrote a treatment for two sequels which introduced the Joker and Harvey Dent.His original intent was for the Joker to scar Dent during the Joker\\'s trial in the third film, turning Dent into Two-Face.Goyer, who penned the first draft of the film, cited the DC Comics 13-issue comic book limited series Batman: The Long Halloween as the major influence on his storyline.According to veteran Batman artist Neal Adams, he met with David Goyer in Los Angeles, and the story would eventually look to Adams and writer Denny O\\'Neil\\'s 1971 story \\\"The Joker\\'s Five-Way Revenge\\\" that appeared in Batman #251, in which O\\'Neil and Adams re-introduced the Joker.While initially uncertain of whether or not he would return to direct the sequel, Nolan did want to reinterpret the Joker on screen.On July 31, 2006, Warner Bros. officially announced initiation of production for the sequel to Batman Begins titled The Dark Knight; it is the first live-action Batman film without the word \\\"Batman\\\" in its title, which Bale noted as signaling that \\\"this take on Batman of mine and Chris\\' is very different from any of the others.\\\"\"]\n        var aw5 = [\"In the weeks leading up to the film's release, advance ticket sales outpaced The Dark Knight Rises, The Avengers, and Furious 7.Worldwide, it was estimated to gross between $300–340 million in over 35,000 screens in its opening weekend.It passed the $50 million mark in IMAX ticket sales on its second weekend, grossing a total of $53.4 million from 571 IMAX screens.Warner Bros. domestic distribution chief Jeff Goldstein described the film's box office performance as a \\\"fantastic result, by any measure.\\\"Box office analyst Jeff Bock said \\\"Still, outside of Christopher Nolan's two Dark Knight movies, and Tim Burton's Batman films when you adjust for inflation, this is the highest-grossing property in DC's bullpen thus far.It tops Man of Steel by more than $200 million,\\\" and that \\\"overall, BvS successfully relaunched DC's cinematic universe, but they are nowhere near Disney/Marvel in terms of critical reception and box office prowess.One can only hope that bigger and better is still on the way.\\\"The film needed to reach $800 million in revenue at the box office to \\\"recoup its investment\\\" according to financial analysts.Despite surpassing this amount, it was considered \\\"a disappointment\\\" for failing to reach $1 billion, This resulted in Warner Bros., in May 2016, creating DC Films, giving a dedicated executive team responsibility for films based on DC Comics, similar to the dedicated Marvel Comics focus of Marvel Studios within the larger Walt Disney Studios group.Batman v Superman: Dawn of Justice grossed $330.4 million in North America and $542.9 million in other territories for a worldwide total of $873.3 million, making it the sixth highest-grossing film of 2016 behind Captain America: Civil War, Finding Dory, Zootopia, The Jungle Book, and The Secret Life of Pets.\",\n            \"Sometime between the events of Batman: Arkham Origins and Batman: Arkham Asylum, street orphan Jason Todd was taken in by the crime-fighter Batman, and trained in all forms of combat as the second Robin after Dick Grayson’s departure.However, Jason was captured by the Joker, and a video was sent to the Dark Knight of Jason’s apparent death.But the Joker lied about killing Jason, and was revealed to have held him in an abandoned wing of Arkham Asylum for over a year, torturing him and breaking his sanity.After the Joker showed Jason a picture of Batman with Tim Drake as the third Robin, Jason snapped and found himself resenting his former mentor more than anything else.Succeeding in making Jason hate his nemesis, the Joker set him free, allowing Todd to start planning his revenge on Batman for leaving him.Jason utilized advanced technology to develop a high-tech militaristic battle-suit and equipment, forming his own army of personally trained soldiers in Venezuela.Todd soon adopted the identity of the “Arkham Knight”, a ruthless supervillain and militia leader.Years later, after the Joker's death in Batman: Arkham City, there was a power vacuum in Gotham City’s criminal underworld.When crime rates plummeted without the Clown Prince of Crime’s iron grip over the city’s criminals, the Arkham Knight appeared in Gotham, forging an alliance with the Scarecrow.Together, the two united all of Gotham’s masterminds, crime lords, thugs, thieves and gangsters in an attempt to rid themselves of the Dark Knight once and for all.Scarecrow forced Gotham’s inhabitants to evacuate with his newest strain of fear toxin, allowing the Arkham Knight’s militia to take complete control over the city.In the beginning of the game, the Arkham Knight and his militia provide an escort for Scarecrow at ACE Chemicals, preventing Batman and the police from foiling their plans of covering the entire eastern seaboard with fear gas.When Batman arrives, the Arkham Knight tries to kill him with his chopper, only to be stopped by the Scarecrow (who wanted the Dark Knight to suffer first).Eventually, Batman reduced the chain reaction in the central mixing chamber, stopping the fear gas from being released.The Arkham Knight then kidnaps Oracle from her clock tower and holds her hostage.When Batman tracks Oracle to a militia facility, the Arkham Knight corners and shoots Batman in the chest before leaving the scene.The villain later assists Scarecrow in escaping Simon Stagg's airship with the fear toxin dispersing machine, \\\"the Cloudburst\\”.The Arkham Knight then attaches the Cloudburst to his personal tank and battles Batman in the Batmobile, only for the hero to destroy the device.When Batman breaks into the militia's primary headquarters, the Arkham Knight confronts him in the excavator tunnels with a mining vehicle.Although the Arkham Knight destroys the Batmobile, Batman manages to escape.Jason eventually reveals himself to Batman as the hero attempts to save Commissioner Gordon.During the confrontation, Batman damages the Arkham Knight's visor, prompting Jason to discard it and reveal a red domed helmet underneath.After defeating Jason, Batman offers to help his former partner recover, but Jason states that it is too late to help him and vanishes.At the end of the game, Jason prevents Scarecrow from executing Batman after the latter is publicly exposed as Bruce Wayne.Jason later adopts the \\\"Red Hood\\\" persona, and becomes a murderous vigilante with extreme measures, such as the use of guns and lethal force.He wears the same red helmet that he had at the end of the game's main story, but now sports a white leather jacket and a Red Hood symbol painted on his chest.As Red Hood, he has a DLC storyline in which he hunts down and kills the crime lord Black Mask.\",\n            \"After Christopher Nolan's successful 2005 Batman film reboot, Batman Begins, which ended with a teaser for the Joker's involvement in a sequel, the character appeared in 2008's The Dark Knight, played by Heath Ledger as an avatar of anarchy and chaos.While Batman Begins earned a worldwide total of $370 million; The Dark Knight earned over $1 billion and was the highest-grossing film of the year, setting several box-office records (including highest-grossing midnight opening, opening day and opening weekend).Ledger won a posthumous Academy Award for Best Supporting Actor for his performance, the first acting Oscar ever won for a superhero film.The Joker has featured in a number of animated projects, such as 2009's Batman: The Brave and the Bold (voiced by Jeff Bennett) and 2011's Young Justice (voiced by Brent Spiner), and comic book adaptations (including 2010's Batman: Under the Red Hood, in which he is voiced by John DiMaggio).In 2012, Michael Emerson voiced the character in a two-part animated adaptation of The Dark Knight Returns.The Joker appears in the 2016 film Suicide Squad, portrayed by Jared Leto.\"]\n        \n        var ids1 = [\"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\", \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\", \"CAR_95b61a74f932382ddc6188742260759743d24404\"]\n        var ids2 = [\"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\", \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\", \"MARCO_5432834\"]\n        var ids3 = [\"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\", \"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\", \"MARCO_6230393\"]\n        var ids4 = [\"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\", \"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\", \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\"]\n        var ids5 = [\"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\", \"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\", \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\"]\n    \n        \n        var nodes1 = {\"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\": [\"batman\", \"nolan\", \"movies\", \"films\"], \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"batman\", \"batmans\", \"nolan\", \"movies\", \"films\"], \"CAR_95b61a74f932382ddc6188742260759743d24404\": [\"batman\", \"nolan\", \"movies\"]}\n      \n        var nodes2 = {\"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\": [\"caine\", \"batman\", \"nolan\", \"films\"], \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"batman\", \"batmans\", \"nolan\", \"movies\", \"films\"], \"MARCO_5432834\": [\"caine\", \"batman\", \"nolan\", \"movies\"]}\n        \n        var nodes3 = {\"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\": [\" joker\", \"batman\", \"nolan\"],\"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\": [\" joker\", \"batman\"], \"MARCO_6230393\": [\"joker\", \"batman\", \"nolan\"]}\n        \n        var nodes4 = {\"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\": [\"batman\", \"nolan\"],\"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\": [\" batman\", \"role\", \"movie\", \"roles\"], \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\": [\"batman\", \"nolan\"]}\n \n        var nodes5 = {\"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\": [\"office\", \"batman\", \"reception\", \"box\", \"nolan\"],\"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\": [\"batman\"], \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\": [\"office\", \"box\", \"batman\", \"nolan\"]}\n        \n       \n        var edges1 = {\"CAR_03303ef055dddb743a91a340e2c18c0e841c818e\": [\"(batman, nolan)\"], \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"(batman, nolan)\"], \"CAR_95b61a74f932382ddc6188742260759743d24404\": [\"(batman, nolan)\"]}\n      \n        var edges2 = {\"CAR_f3d39f5a3d4adec4f14610c9c91835207ee036a8\": [\"(caine, nolan)\", \"(batman, films)\", \"(films, nolan)\"], \"CAR_f327e39cd2d17863ebd8923a228583374deff08e\": [\"(batman, nolan)\"], \"MARCO_5432834\": [\"(batman, caine)\", \"(batman, movies)\"]}\n        \n        var edges3 = {\"CAR_6d49023a3cefa01eb34bf5fa485be4622f6c9f3d\": [\"(batman, nolan)\"],\"CAR_d5a4f2e579cd3113431ad017c1904758d4721dcf\": [\"(batman, joker)\"], \"MARCO_6230393\": [\" (batman, nolan)\"]}\n       \n        var edges4 = {\"CAR_4d9f9b075a08ff9b08c8a676d7399f7e814d1178\": [\"(batman, nolan)\"],\"CAR_bca7f8cb910353f183b813648b7b223dab0a08ed\": [\"(batman, movie)\", \"(batman, roles)\"], \"CAR_2bc04fa23e166dd404108684b901a70e2d2b9e0d\": [\"\"]}\n       \n        var edges5 = {\"CAR_3a153cad2e90cfd401b87be2e345c159747756fd\": [\"(box, office)\", \"(batman, films)\", \"(batman, movies)\", \"(movies, nolan)\", \"(office, reception)\"],\"CAR_6e97795096c750af6afedfc667386b5c0f0cf046\": [\"\"], \"CAR_8b5441dab6e1c20232ebe4779c2355eb2842ce82\": [\"(batman, nolan)\", \"(box, office)\"]}\n       \n        var topsentences1 = [[5,6,4], [1,16,4], [1,2,4]]\n        var topsentences2 = [[11,1,3], [12,5,2], [6,4,1]]\n        var topsentences3 = [[2], [4,5,8], [1]]\n        var topsentences4 = [[2,4,3], [1,14,6], [1]]\n        var topsentences5 = [[4,12,15], [1,14,6], [1,4]]\n       \n        this.setState({questions:  quest ,answers: [aw1, aw2, aw3, aw4, aw5], answerids: [ids1, ids2, ids3, ids4, ids5], nodes: [nodes1, nodes2, nodes3, nodes4, nodes5], edges: [edges1, edges2, edges3, edges4, edges5], turn: 4, topsentences: [topsentences1,topsentences2, topsentences3, topsentences4, topsentences5 ]})\n        \n\n    }\n\n\n    render() {\n        var errorStyle = {color:\"#FF0000\", \"margiBottom\": \"70px\"}\n        var widthstyle = { width: \"80%\"}\n        var margin = {\"marginBottom\": \"30px\"}\n        console.log(\"answerids#################: \" + this.state.answerids)\n     \n        return (\n            <div className=\"full-container\" >\n                <h3 align=\"center\" style={margin}>CROWN: Conversational Passage Ranking by Reasoning over Word Networks</h3>\n                <div className=\"flex-row\">\n                    <div className=\"flex-small\">\n                        <div className=\"container\" align=\"justify\" style={widthstyle} >\n                            {this.state.err && <div className=\"error-message\"><h2 align=\"center\" style={errorStyle}>{this.state.err}</h2></div>}\n                            {this.state.api_err && <div className=\"error-message2\"> <h2 align=\"center\" style={errorStyle}>{\"  500 Internal Server Error\"}</h2></div>}\n                            <Form handleSubmit={this.handleSubmit} onSubmit={this.handleSubmit} handleClearConv={this.handleClearConv} handleClearLastTurn={this.handleClearLastTurn} />  {  }   \n                            <LoadingIndicator/> {  }  \n                            <TableBody questions={this.state.questions} answers={this.state.answers} answerids={this.state.answerids} nodes={this.state.nodes} edges={this.state.edges} turn={this.state.turn} topsentences={this.state.topsentences}/>\n                            <Description/>\n                        </div>\n                    </div>\n                 \n                    <div className=\"flex-small\">                  \n                        <div className=\"container\" style={widthstyle}>\n                            <SampleQuestion showSampleAnswers={this.showSampleAnswers}/> { }\n                            <Options onChange={this.handleOptionChange} value={this.state}/>\n                        </div>\n                    </div>\n                </div>\n                <Footer/>\n            </div>\n        );  \n    };\n    \n}\n\nconst SampleQuestion = props  => {\n    var marginbutton = {\"marginLeft\": \"80%\"};\n      \n    const {showSampleAnswers} = props\n    return(\n                  \n        <table>\n            <thead> \n                <tr key={'sampleconv_head'}>\n                <th>Sample Conversation on Flowering Plants for Cold Climates</th>\n                \n                </tr>\n            </thead>\n            <tbody>\n                <tr className=\"no-bottom-border\" key={'turn1'}>\n                    <td>\n                        <b>Turn 1: </b> when did nolan make his batman movies\" <br/>     \n                        <b>Turn 2: </b> who was Caine <br/>\n                        <b>Turn 3: </b> and what about the joker<br/>\n                        <b>Turn 4: </b> ole of jokers darkness<br/>\n                        <b>Turn 5: </b>reception at the box office\n                    </td>\n                </tr>\n              \n                <tr key={'buttonrow'} >\n                    <td><button className=\"button\"  onClick={showSampleAnswers} style={marginbutton}>Answer</button></td>\n                </tr>  \n            </tbody>   \n        </table>\n    )\n}\n\nconst Description = () => {\n    return (\n        <table >\n            <thead> \n                <tr key={'description'}>\n                    <th>Description</th>\n                </tr>\n            </thead>\n            <tbody>\n               <tr key={'desc'}>\n                    <td>\n                        <p  align=\"justify\">CROWN is an unsupervised approach for conversational passage ranking. Answers are retrieved from MS MARCO and TREC CAR datasets. We formulated the objective of maximizing the passage score for a query as a combination of similarity and coherence. Passages are preferred that\ncontain words semantically similar to the words used in the question. Coherence\nis expressed using term proximity. We built a word-proximity network\nfrom the corpus, where words are nodes and there is an edge\nbetween two nodes if they co-occur in the same passage in a statistically\nsignificant way, within a context window. We use NPMI (normalized pointwise\nmutual information) as a measure of this word association significance.</p>\n\n            <p>Our code and further technical information are available <a href=\"https://github.com/magkai/CROWN\">here</a>.</p>\n\n                          <p>For feedback and clarifications, please contact:</p>\n                            <ul>\n                           \n                                <li><a href=\"http://people.mpi-inf.mpg.de/~mkaiser/\">Magdalena Kaiser</a> (mkaiser AT mpi HYPHEN inf DOT mpg DOT de)</li>\n                                <li><a href=\"http://people.mpi-inf.mpg.de/~rsaharo/\">Rishiraj Saha Roy</a> (rishiraj AT mpi HYPHEN inf DOT mpg DOT de)</li>\n                                <li><a href=\"http://people.mpi-inf.mpg.de/~weikum/\">Gerhard Weikum</a> (weikum AT mpi HYPHEN inf DOT mpg DOT de)</li>\n                       \n                            </ul>\n                       \n                    </td>\n                </tr>\n            </tbody>   \n        </table>\n    )\n}\n\nconst LoadingIndicator = props => {\n   const { promiseInProgress } = usePromiseTracker();\n\n   return (\n        promiseInProgress && \n        <div style={{ \n            width: \"100%\",\n            height: \"100\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"}}>\n            <Loader type=\"ThreeDots\" color=\"#568ceb\" height={100} width={100} />\n        </div>\n    );  \n }\n\n  \nconst TableBody = props  => {\n    \n   const {questions, answers, answerids, nodes, edges, turn, topsentences} = props;\n   if(answers !== undefined && answers !== null && answers[0] !== undefined && answers[0][0] !== undefined) {\n        console.log(\"curr answers: \" + answers[0][0][0])\n   }\n  \n   var tablelayout = {border: \"0\"} \n   \n    return (\n        <table style={tablelayout}> \n            <tbody  >\n             {[...questions].reverse().map((question, index) => {\n                 return (\n                    <tr className=\"noBorder\" key={index}>\n                        <td>\n                        <InnerTable question={question} answers={[...answers].reverse()[index]} answerids={[...answerids].reverse()[index]}  \n                        nodes={[...nodes].reverse()[index]}  edges={[...edges].reverse()[index]}  nbr={index} turn={turn} topsentences={[...topsentences].reverse()[index]}/>\n                        </td>\n                    </tr>\n                     \n                 )})\n            }\n            </tbody>\n        </table>\n    );\n  \n   \n}; \n\n\nconst InnerTable = props => {\n    \n    const {question, answers, answerids, nodes, edges, nbr, turn, topsentences} = props\n    \n    const rows = answers.map((answer, index) => {\n         \n      \n        console.log(\"top sent:\" + topsentences) \n        console.log(\"curr top sent: \" + topsentences[answerids[index]])\n     \n       var newanswer = \"\";\n       //show important nodes and edges in bold in final answer\n       for(var n = 0; n < answer.length; n++) {\n            if(!answer[n].toString().includes('<b>') && !answer[n].toString().includes('</b>')) {               \n                for (var i = 0; i < nodes[answerids[index]].length; i++) {\n                    var find = nodes[answerids[index]][i]\n                    var pattern = `(\\\\s|\\\\b)(${find})(\\\\s|\\\\b)`;\n                    var regexp = new RegExp(pattern, 'ig'); // ignore case (optional) and match all\n                    var replaceMask = `$1<b>$2</b>$3`;\n                    answer[n] = answer[n].replace(regexp, replaceMask);\n                }\n                for (var j = 0; j < edges[answerids[index]].length; j++) {\n                    var edge = edges[answerids[index]][j].replace(\"(\", \"\")     \n                    edge = edge.replace(\")\", \"\")\n                    var find1 = edge.split(\",\")[0];\n                    var find2 = edge.split(\",\")[1];\n                    var pattern1 = `(\\\\s|\\\\b)(${find1})(\\\\s|\\\\b)`;\n                    var regexp1 = new RegExp(pattern1, 'ig'); // ignore case (optional) and match all\n                    var pattern2 = `(\\\\s|\\\\b)(${find2})(\\\\s|\\\\b)`;\n                    var regexp2 = new RegExp(pattern2, 'ig'); \n                    var replaceMask2 = `$1<b>$2</b>$3`;\n                    answer[n] = answer[n].replace(regexp1, replaceMask2);\n                    answer[n] = answer[n].replace(regexp2, replaceMask2);\n                }\n            }\n            if(!answer[n].toString().includes('<mark>')) {\n            //highlight top sentences in passag\n                for(var t = 0; t <topsentences[answerids[index]].length; t++) {\n                    if(n+1 === parseInt(topsentences[answerids[index]][t])) {\n                        answer[n] = '<mark>' + answer[n].toString() + '</mark>'\n                        break;\n\n                    }\n                \n                }\n            }\n            newanswer += answer[n];\n            \n        }\n      \n        console.log(\"answer: \" + answer)\n        \n        \n        return(\n            <tr className=\"no-bottom-border\" key={\"row_table\".concat(index.toString())}>\n                <td>\n                    <table>\n                        <tbody>\n                            <tr  className=\"no-bottom-border\" key={\"\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>\n                                <td><b>Rank {index+1}: </b> {ReactHtmlParser(newanswer)}  [{answerids[index]}]</td>    \n                            </tr>\n                            <tr className=\"no-bottom-border\" key={\"nodes\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>\n                                <td><b>Top Nodes: </b>{ nodes[answerids[index]].toString().replace(/,/g, ', ')}</td>\n                            </tr>\n\n                            <tr className=\"no-bottom-border\" key={\"edges\".concat(nbr.toString()).concat(\"_\").concat(index.toString())}>  \n                                <td><b>Top Edges:</b> { edges[answerids[index]].toString().replace(/,/g, ', ')}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </td>\n            </tr>\n        );  \n        \n    });\n\n    return (\n        <table>\n           <thead>\n                <tr key={question}>\n                    <th>Results for Turn {turn-nbr+1}: {question}</th>\n                </tr>\n           </thead>\n           <tbody>{rows}</tbody>\n        </table>\n    )\n       \n};\n\n\nconst Footer = () => {\n    \n    return (\n        <div>\n            <footer className=\"footer\" >\n                <hr/>\n                <div className=\"full-container\">\n                    <p align=\"right\">         \n                       \n                        © <a href=\"https://www.mpi-inf.mpg.de/departments/databases-and-information-systems/\" target=\"_blank\" rel=\"noopener noreferrer\">Database\n                                                            &amp; Information Systems Group</a>, <a href=\"http://www.mpi-inf.mpg.de/home/\" target=\"_blank\" rel=\"noopener noreferrer\">Max Planck Institute\n                                                            for Informatics</a>. 2019.{ } | { }\n                        <a href=\"https://imprint.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\" target=\"_blank\" rel=\"noopener noreferrer\">Impressum</a>{ } | { }\n                        <a href=\"https://data-protection.mpi-klsb.mpg.de/inf/crown.mpi-inf.mpg.de\" target=\"_blank\" rel=\"noopener noreferrer\">Datenschutz</a>\n                        <img src=\"Logo_MPII.png\" className=\".responsive-image\"  width=\"200\" height=\"50\" alt=\"\"/>            \n                    </p> \n                </div>               \n            </footer>\n        </div>\n    )  \n};\n\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}